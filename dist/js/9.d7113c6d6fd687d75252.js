webpackJsonp([9],{"/GQr":function(t,a){},kkNY:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=s("34v0"),e=s.n(i),o=s("bh5B"),r=s("A2FV"),n=s("tL1G"),l=s("/gb8"),c=s("EcfS"),h=s("dyDs"),u={data:function(){return{news:[],authorInfo:[],page:0,tips:"上滑加载更多",isLoad:null,scrollY:0,isScrollTop:null,shareVal:{}}},components:{"news-column":r.a,"load-tips":n.a,scroll:o.a},computed:e()({},Object(c.c)(["author"])),mounted:function(){},created:function(){this.direction="horizontal",this.probeType=3,this.listenScroll=!0,this.pullUpLoad=!0,this._getAuthor()},methods:{loadTop:function(){this.$refs.list.refresh()},_getAuthor:function(){var t=this;Object(l.a)("/author-publish?page=0&author_id="+this.$route.params.id).then(function(a){0===a.data.errorCode?(t.authorInfo=a.data.data.userInfo,t.$nextTick(function(){t.topHeight=t.$refs.top.clientHeight,t.barHeight=t.$refs.bar.clientHeight,t.minTranslateY=t.barHeight-t.topHeight,t.$refs.list.$el.style.top=t.topHeight+"px"}),t.news=a.data.data.publishArticles,t.shareVal.title=t.authorInfo.nickname,t.shareVal.summary=t.authorInfo.description,t.shareVal.thumb=t.authorInfo.avatar,Object(h.a)(t.shareVal)):(t.authorInfo=t.author,t.tips="暂未发表文章")}).catch(function(a){a.res||(t.tips="网络不给力，请稍后重试")})},loadMore:function(){var t=this;this.tips="正在加载...",this.isLoad=!0,this.page++,Object(l.a)("/author-publish?page="+this.page+"&author_id="+this.$route.params.id).then(function(a){0===a.data.errorCode?(t.news=t.news.concat(a.data.data.publishArticles),t.tips="上滑加载更多",t.isLoad=!1):(t.tips="没有更多数据了~",t.isLoad=!1)}).catch(function(a){a.res||(t.tips="网络不给力，请稍后重试")})},back:function(){if(window.history.length<=1)return this.$router.push({path:"/columnist"}),!1;this.$router.back()},scroll:function(t){this.scrollY=t.y},touchToEnd:function(){this.loadMore()}},watch:{scrollY:function(t){var a=Math.max(this.minTranslateY,t);this.$refs.layer.style.transform="translate3d(0, "+a+"px, 0)",t>this.minTranslateY?this.isScrollTop=!1:this.isScrollTop=!0;var s=1,i=Math.abs(t/this.topHeight);t>0&&(s=1+i),this.$refs.bgImage.style.transform="scale("+s+")";var e=this.topHeight*s;this.$refs.top.style.height=e+"px"}}},p={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("transition",{attrs:{name:"slide"}},[s("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:t.authorInfo.nickname,expression:"authorInfo.nickname"}],staticClass:"columnist-author"},[s("div",{ref:"top",staticClass:"top-wrapper"},[s("div",{staticClass:"avatar"},[s("img",{staticClass:"image",attrs:{src:t.authorInfo.avatar},on:{load:t.loadTop}}),t._v(" "),s("i",{class:{vip:1===t.authorInfo.is_certificate}})]),t._v(" "),s("div",{staticClass:"text"},[s("h1",{staticClass:"name"},[t._v(t._s(t.authorInfo.nickname))]),t._v(" "),s("p",{staticClass:"intro"},[t._v(t._s(t.authorInfo.description))])]),t._v(" "),s("div",{ref:"bar",staticClass:"back",on:{click:t.back}},[s("i",{staticClass:"icon-back",class:{"icon-back-black":t.isScrollTop}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isScrollTop,expression:"isScrollTop"}],staticClass:"title"},[t._v(t._s(t.authorInfo.nickname))]),t._v(" "),s("div",{ref:"bgImage",staticClass:"background"},[s("img",{attrs:{src:t.authorInfo.avatar}})])]),t._v(" "),s("div",{ref:"layer",staticClass:"bg-layer"}),t._v(" "),s("scroll",{ref:"list",staticClass:"list",attrs:{data:t.news,pullUpLoad:t.pullUpLoad,probeType:t.probeType,listenScroll:t.listenScroll},on:{scroll:t.scroll,touchToEnd:t.touchToEnd}},[s("div",[s("news-column",{staticClass:"news-column",attrs:{news:t.news}}),t._v(" "),t.news.length?s("load-tips",{attrs:{tips:t.tips,isLoad:t.isLoad}}):t._e()],1)])],1)])},staticRenderFns:[]};var d=s("D8HT")(u,p,!1,function(t){s("/GQr")},null,null);a.default=d.exports}});
//# sourceMappingURL=9.d7113c6d6fd687d75252.js.map