webpackJsonp([2],{"2SZS":function(t,e){},"2U0K":function(t,e){},"2q8J":function(t,e,i){"use strict";e.b=function(t){var e=document.createElement("div");e.innerHTML=t;var i=e.innerText||e.textContent;return e=null,i},e.a=function(t){return 0===t.length?"":t.replace(/<table/g,'<div class="table-container"><table').replace(/<\/table>/g,"</table></div>")}},XSJt:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("34v0"),a=i.n(s),n=i("dyDs"),o=i("/gb8"),l=i("2q8J"),r=i("qqiS"),c={data:function(){return{isClose:!0}},props:{isShow:{type:Boolean,default:!0},getClass:{type:String,default:""}},created:function(){},methods:{change:function(){this.isClose=!this.isClose},goTop:function(){this.$emit("gotop"),this.isClose=!this.isClose},goHome:function(){this.$router.push({path:"/index"}),this.isClose=!this.isClose},goLast:function(){this.$emit("golast"),this.isClose=!this.isClose},goNext:function(){this.$emit("gonext"),this.isClose=!this.isClose},toggle:function(){this.$emit("toggle")}},watch:{isClose:function(t){!1===t&&(this.$refs.addBtn.style.transform="rotate(-45deg)"),!0===t&&(this.$refs.addBtn.style.transform="rotate(0deg)")}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"floating-wrapper"},[i("div",{staticClass:"floating-btn"},[i("transition",{attrs:{name:"btn"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isClose,expression:"!isClose"}],staticClass:"bg-layer"},[i("i",{staticClass:"item icon-nav-home",on:{click:t.goHome}}),t._v(" "),i("i",{staticClass:"item icon-backward",on:{click:t.goLast}}),t._v(" "),i("i",{staticClass:"item icon-forward",on:{click:t.goNext}}),t._v(" "),i("i",{staticClass:"item icon-top",on:{click:t.goTop}}),t._v(" "),i("i",{staticClass:"item icon-favor",class:t.getClass,on:{click:t.toggle}})])]),t._v(" "),i("div",{ref:"addBtn",staticClass:"add-btn",on:{click:t.change}},[i("i",{staticClass:"icon-add"})])],1)])},staticRenderFns:[]};var h,u=i("D8HT")(c,d,!1,function(t){i("2U0K")},null,null).exports,v=i("EcfS"),f={data:function(){return{article:[],newsDetails:[],newsContent:"",isLoading:!0,isShow:!0}},created:function(){this.httpGet()},computed:a()({},Object(v.c)(["favoriteList"])),mounted:function(){var t=this;setTimeout(function(){window.addEventListener("scroll",t.handleScroll)},20)},methods:a()({handleScroll:function(){var t=this;this.isShow=!1,clearTimeout(h),h=setTimeout(function(){t.isShow=!0},200)},httpGet:function(){var t=this;Object(o.a)("/detail?article_id="+this.$route.params.id).then(function(e){0===e.data.errorCode&&(t.newsDetails=e.data.data,t.article=e.data.data,t.newsContent=Object(l.a)(e.data.data.content),Object(n.a)(t.newsDetails))})},loadAvatar:function(){this.isLoading=!1},gotop:function(){this.$refs.article.scrollIntoView()},gonext:function(){0===this.newsDetails.article_after.length?alert("已经是最后一篇文章啦~"):this.$router.push({path:"/site/"+this.newsDetails.article_after.id})},golast:function(){0===this.newsDetails.article_before.length?alert("已经是第一篇文章啦~"):this.$router.push("/site/"+this.newsDetails.article_before.id)},getFavoriteIcon:function(){return this.isFavorite()?"icon-favor_fill":"icon-favor"},toggleFavorite:function(){this.isFavorite()?this.deleteFavoriteList(this.article):this.saveFavoriteList(this.article)},isFavorite:function(){var t=this;return this.favoriteList.findIndex(function(e){return e.id===t.article.id})>-1}},Object(v.b)(["saveFavoriteList","deleteFavoriteList"])),watch:{$route:function(t,e){this.httpGet()}},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},components:{loading:r.a,"floating-btn":u}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:t.newsDetails.title,expression:"newsDetails.title"}],ref:"article",staticClass:"article"},[i("div",{staticClass:"article-header"},[i("h1",{staticClass:"article-title"},[t._v(t._s(t.newsDetails.title))]),t._v(" "),i("div",{staticClass:"article-info"},[i("router-link",{staticClass:"author",attrs:{to:"/columnist/"+t.newsDetails.author_id,tag:"div"}},[i("span",{staticClass:"avatar"},[i("img",{attrs:{src:t.newsDetails.author_avatar},on:{load:t.loadAvatar}})]),t._v(" "),i("span",{staticClass:"name"},[t._v(t._s(t.newsDetails.author_name))])]),t._v(" "),i("div",{staticClass:"time"},[t._v(t._s(t.newsDetails.publish_time))])],1)]),t._v(" "),i("div",{staticClass:"article-content",domProps:{innerHTML:t._s(t.newsContent)}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"loading-container"},[i("loading")],1),t._v(" "),i("floating-btn",{attrs:{isShow:t.isShow,getClass:t.getFavoriteIcon()},on:{gotop:t.gotop,gonext:t.gonext,golast:t.golast,toggle:t.toggleFavorite}})],1)},staticRenderFns:[]};var w=i("D8HT")(f,g,!1,function(t){i("2SZS")},null,null);e.default=w.exports}});
//# sourceMappingURL=2.e36db8657801cdcde4b9.js.map