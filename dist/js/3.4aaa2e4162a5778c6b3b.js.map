{"version":3,"sources":["webpack:///./src/common/js/dom.js","webpack:///src/components/slider/slider.vue","webpack:///./src/components/slider/slider.vue?cc1c","webpack:///./src/components/slider/slider.vue","webpack:///src/pages/index/index.vue","webpack:///./src/pages/index/index.vue?a834","webpack:///./src/pages/index/index.vue"],"names":["hasClass","el","className","RegExp","test","addClass","newClass","split","push","join","slider","data","dots","currentPageIndex","props","loop","type","Boolean","default","autoPlay","interval","Number","mounted","_this","this","setTimeout","_setSliderWidth","Array","children","length","_initSlider","_play","window","addEventListener","refresh","destroyed","clearTimeout","timer","methods","isResize","$refs","sliderGroup","width","sliderWidth","clientWidth","i","child","style","_this2","bscroll_esm","click","scrollX","scrollY","eventPassthrough","momentum","snap","threshold","speed","on","pageIndex","getCurrentPage","pageX","_this3","console","log","next","slider_slider","render","_h","$createElement","_c","_self","ref","staticClass","_t","staticRenderFns","components_slider_slider","__webpack_require__","normalizeComponent","ssrContext","index","slide","scrollH","news","newsNav","page","tips","downTips","isShow","isLoad","isMoreTab","shareVal","title","summary","thumb","created","probeType","pullUpLoad","pullDownRefresh","_getSlider","_getNewsNav","_getNews","Object","share","loadImage","checkLoaded","newsWrapper","getApi","then","res","errorCode","$nextTick","navBtn","getBoundingClientRect","navContent","navHeight","navWrapper","clientHeight","topHeight","newsMark","top","minTranslateY","$el","catch","error","loadMore","_this4","concat","change","scrollCenter","scroll","pos","y","val","navScroll","scrollToElement","scrollTop","scrollTo","touchToEnd","scrollToTop","pullingDown","_this5","showMoreTab","hideMoreTab","watch","newY","translateY","Math","max","components","news-column","news_column","load-tips","load_tips","loading","scroll_scroll","removeEventListener","handleScroll","pages_index","_vm","attrs","id","_l","item","key","href","url","src","load","_v","_s","_e","refInFor","$event","class","nav-s","name","staticStyle","font-size","line-height","directives","rawName","value","expression","index_Component","index_normalizeComponent","__webpack_exports__"],"mappings":"qHAAO,SAASA,EAAUC,EAAIC,GAE5B,OADU,IAAIC,OAAO,UAAYD,EAAY,WAClCE,KAAKH,EAAGC,WAGd,SAASG,EAAUJ,EAAIC,GAC5B,IAAIF,EAASC,EAAIC,GAAjB,CAIA,IAAII,EAAWL,EAAGC,UAAUK,MAAM,KAClCD,EAASE,KAAKN,GACdD,EAAGC,UAAYI,EAASG,KAAK,MCA/B,IAAAC,GACAC,KADA,WAEA,OACAC,QACAC,iBAAA,IAGAC,OACAC,MACAC,KAAAC,QACAC,SAAA,GAEAC,UACAH,KAAAC,QACAC,SAAA,GAEAE,UACAJ,KAAAK,OACAH,QAAA,MAGAI,QArBA,WAqBA,IAAAC,EAAAC,KACAC,WAAA,WACAF,EAAAG,kBACAH,EAAAX,KAAA,IAAAe,MAAAJ,EAAAK,SAAAC,QACAN,EAAAO,cAEAP,EAAAJ,UACAI,EAAAQ,SAEA,IAEAC,OAAAC,iBAAA,oBACAV,EAAAb,SAGAa,EAAAG,iBAAA,GACAH,EAAAb,OAAAwB,cAGAC,UAxCA,WAyCAC,aAAAZ,KAAAa,QAEAC,SACAZ,gBADA,SACAa,GACAf,KAAAI,SAAAJ,KAAAgB,MAAAC,YAAAb,SAGA,IAFA,IAAAc,EAAA,EACAC,EAAAnB,KAAAgB,MAAA9B,OAAAkC,YACAC,EAAA,EAAAA,EAAArB,KAAAI,SAAAC,OAAAgB,IAAA,CACA,IAAAC,EAAAtB,KAAAI,SAAAiB,GACAxC,EAAAyC,EAAA,eAEAA,EAAAC,MAAAL,MAAAC,EAAA,KACAD,GAAAC,EAEAnB,KAAAT,OAAAwB,IACAG,GAAA,EAAAC,GAEAnB,KAAAgB,MAAAC,YAAAM,MAAAL,QAAA,MAEAZ,YAjBA,WAiBA,IAAAkB,EAAAxB,KACAA,KAAAd,OAAA,IAAAuC,EAAA,EAAAzB,KAAAgB,MAAA9B,QACAwC,OAAA,EACAC,SAAA,EACAC,SAAA,EACAC,iBAAA,WACAC,UAAA,EACAC,MACAxC,MAAA,EACAyC,UAAA,GACAC,MAAA,OAIAjC,KAAAd,OAAAgD,GAAA,uBACA,IAAAC,EAAAX,EAAAtC,OAAAkD,iBAAAC,MACAb,EAAAnC,iBAAA8C,EACAX,EAAA7B,WACAiB,aAAAY,EAAAX,OACAW,EAAAjB,WAIAP,KAAAd,OAAAgD,GAAA,yBACAtB,aAAAY,EAAAX,UAGAN,MA5CA,WA4CA,IAAA+B,EAAAtC,KACAmC,EAAAnC,KAAAX,iBACAW,KAAAT,OACA4C,GAAA,GAEAI,QAAAC,IAAAL,GACAnC,KAAAa,MAAAZ,WAAA,WACAqC,EAAApD,OAAAuD,KAAA,MACAzC,KAAAJ,aCxGA8C,GADiBC,OAFjB,WAA0B,IAAaC,EAAb5C,KAAa6C,eAA0BC,EAAvC9C,KAAuC+C,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,IAAA,SAAAC,YAAA,WAAkCH,EAAA,OAAYE,IAAA,cAAAC,YAAA,iBAA9HjD,KAA2KkD,GAAA,kBAEpLC,oBCCjB,IAuBAC,EAvBAC,EAAA,OAcAC,CACApE,EACAwD,GATA,EAVA,SAAAa,GACAF,EAAA,SAaA,KAEA,MAUA,gFC6BAG,GACArE,KADA,WAEA,OACAsE,SACAC,QAAA,EACAC,QACAC,WACApE,KAAA,EACAqE,KAAA,EACAC,KAAA,SACAC,SAAA,OACAC,QAAA,EACAC,OAAA,KACAC,UAAA,KACAC,UACAC,MAAA,eACAC,QAAA,8DACAC,MAAA,6EAIAC,QArBA,WAsBAvE,KAAA2B,SAAA,EACA3B,KAAA4B,SAAA,EACA5B,KAAA6B,iBAAA,WACA7B,KAAAwE,UAAA,EACAxE,KAAAyE,YAAA,EACAzE,KAAA0E,iBAAA,EACA1E,KAAA2E,aACA3E,KAAA4E,cACA5E,KAAA6E,YAEA/E,QAhCA,WAiCAgF,OAAAC,EAAA,EAAAD,CAAA9E,KAAAmE,WAEArD,SACAkE,UADA,WAEAhF,KAAAiF,cACAjF,KAAAgB,MAAAkE,YAAAxE,UACAV,KAAA6E,WACA7E,KAAAiF,aAAA,IAGAN,WARA,WAQA,IAAA5E,EAAAC,KACA8E,OAAAK,EAAA,EAAAL,CAAA,UAAAM,KAAA,SAAAC,GA7CA,IA8CAA,EAAAlG,KAAAmG,UACAvF,EAAA0D,MAAA4B,EAAAlG,UAEAY,EAAA0D,YAIAmB,YAjBA,WAiBA,IAAApD,EAAAxB,KACA8E,OAAAK,EAAA,EAAAL,CAAA,eAAAM,KAAA,SAAAC,GAtDA,IAuDAA,EAAAlG,KAAAmG,YACA9D,EAAAoC,QAAAyB,EAAAlG,UACAqC,EAAA+D,UAAA,WAEA,IADA,IAAArE,EAAA,EACAG,EAAA,EAAAA,EAAAG,EAAAoC,QAAAvD,OAAAgB,IACAH,GAAAM,EAAAR,MAAAwE,OAAAnE,GAAAoE,wBAAAvE,MAEAM,EAAAR,MAAA0E,WAAAnE,MAAAL,QAAA,WAKA2D,SA/BA,WA+BA,IAAAvC,EAAAtC,KACA8E,OAAAK,EAAA,EAAAL,CAAA,qBAAA9E,KAAAR,MAAA4F,KAAA,SAAAC,GApEA,IAqEAA,EAAAlG,KAAAmG,WACAhD,EAAAqB,KAAA0B,EAAAlG,UACAmD,EAAAiD,UAAA,WACAjD,EAAAqD,UAAArD,EAAAtB,MAAA4E,WAAAC,aACAvD,EAAAwD,UAAAxD,EAAAtB,MAAA+E,SAAAN,wBAAAO,IACA1D,EAAA2D,cAAA3D,EAAAqD,UAAArD,EAAAwD,UACAxD,EAAAtB,MAAAkE,YAAAgB,IAAA3E,MAAAyE,IAAA1D,EAAAwD,UAAA,SAGAxD,EAAAqB,QACArB,EAAAwB,KAAA,UAEAqC,MAAA,SAAAC,GACAA,EAAAf,MACA/C,EAAAqB,QACArB,EAAAwB,KAAA,kBAIAuC,SApDA,WAoDA,IAAAC,EAAAtG,KACAA,KAAA8D,KAAA,SACA9D,KAAAiE,QAAA,EACAjE,KAAA6D,OACAiB,OAAAK,EAAA,EAAAL,CAAA,cAAA9E,KAAA6D,KAAA,SAAA7D,KAAAR,MAAA4F,KAAA,SAAAC,GACAiB,EAAArC,QAAA,EA7FA,IA8FAoB,EAAAlG,KAAAmG,WACAgB,EAAA3C,KAAA2C,EAAA3C,KAAA4C,OAAAlB,EAAAlG,WACAmH,EAAAxC,KAAA,UAEAwC,EAAAxC,KAAA,aAEAqC,MAAA,SAAAC,GACAA,EAAAf,MACAiB,EAAArC,QAAA,EACAqC,EAAAxC,KAAA,kBAIA0C,OAvEA,SAuEAnF,GACArB,KAAAR,KAAA6B,EACArB,KAAA6D,KAAA,EACA7D,KAAAyG,aAAApF,GACArB,KAAAkE,WAAA,GAEAwC,OA7EA,SA6EAC,GACA3G,KAAA0D,QAAAiD,EAAAC,GAEAH,aAhFA,SAgFAI,GACA7G,KAAAgB,MAAA8F,UAAAC,gBAAA/G,KAAAgB,MAAAwE,OAAAqB,GAAA,WACA7G,KAAAgB,MAAA8F,UAAApG,WAEAsG,UApFA,WAqFAhH,KAAAgB,MAAAkE,YAAA+B,SAAA,EAAAjH,KAAAiG,cAAA,KAEAiB,WAvFA,WAwFAlH,KAAAqG,YAEAc,YA1FA,WA2FAnH,KAAA+D,SAAA,QAEAqD,YA7FA,WA6FA,IAAAC,EAAArH,KACAA,KAAA2D,QACA3D,KAAA+D,SAAA,OACA9D,WAAA,WACAoH,EAAAxC,WACAwC,EAAAtD,SAAA,QACA,MAEAuD,YArGA,WAsGAtH,KAAAkE,WAAA,GAEAqD,YAxGA,WAyGAvH,KAAAkE,WAAA,IAGAsD,OACAhI,KADA,SACA6B,GACArB,KAAA6E,WACA7E,KAAAgH,aAEAtD,QALA,SAKA+D,GACA,GAAAA,GAAA,GACA,IAAAC,EAAAC,KAAAC,IAAA5H,KAAAiG,cAAAwB,GACAzH,KAAAgB,MAAA4E,WAAArE,MAAA,4BAAAmG,EAAA,YAIAG,YACAC,cAAAC,EAAA,EACAC,YAAAC,EAAA,EACAC,UAAA,EACAhJ,OAAAkE,EACAsD,OAAAyB,EAAA,GAEAxH,UAlKA,WAmKAH,OAAA4H,oBAAA,SAAApI,KAAAqI,gBCvNAC,GADiB3F,OAFjB,WAA0B,IAAA4F,EAAAvI,KAAa4C,EAAA2F,EAAA1F,eAA0BC,EAAAyF,EAAAxF,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiB0F,OAAOC,GAAA,WAAcF,EAAA9E,MAAA,OAAAX,EAAA,OAA+BE,IAAA,gBAAAC,YAAA,mBAAiDH,EAAA,SAAAyF,EAAAG,GAAAH,EAAA,eAAAI,EAAAnF,GAAsD,OAAAV,EAAA,OAAiB8F,IAAApF,EAAAP,YAAA,gBAAoCH,EAAA,KAAUG,YAAA,aAAAuF,OAAgCK,KAAAF,EAAAG,OAAiBhG,EAAA,OAAY0F,OAAOO,IAAAJ,EAAArE,OAAiBpC,IAAK8G,KAAAT,EAAAvD,eAAsBuD,EAAAU,GAAA,KAAAnG,EAAA,KAAwBG,YAAA,gBAA0BsF,EAAAU,GAAAV,EAAAW,GAAAP,EAAAvE,gBAAiC,GAAAmE,EAAAY,KAAAZ,EAAAU,GAAA,KAAAV,EAAA3E,QAAA,OAAAd,EAAA,OAA2DE,IAAA,aAAAC,YAAA,aAAwCH,EAAA,UAAeE,IAAA,YAAAwF,OAAuBrJ,KAAAoJ,EAAA3E,QAAAjC,QAAA4G,EAAA5G,QAAAC,QAAA2G,EAAA3G,QAAAC,iBAAA0G,EAAA1G,oBAAwGiB,EAAA,OAAYE,IAAA,aAAAC,YAAA,eAA2CsF,EAAAG,GAAAH,EAAA,iBAAAI,EAAAnF,GAA2C,OAAAV,EAAA,OAAiB8F,IAAApF,EAAAR,IAAA,SAAAoG,UAAA,EAAAnG,YAAA,UAAAf,IAA+DR,MAAA,SAAA2H,GAAyBd,EAAA/B,OAAAhD,OAAoBV,EAAA,QAAawG,OAAOC,QAAAhB,EAAA/I,OAAAgE,KAA0B+E,EAAAU,GAAAV,EAAAW,GAAAP,EAAAa,cAAgCjB,EAAAU,GAAA,KAAAnG,EAAA,OAAyBG,YAAA,eAAAf,IAA+BR,MAAA6G,EAAAjB,kBAAyB,GAAAiB,EAAAY,KAAAZ,EAAAU,GAAA,KAAAnG,EAAA,OAAuCE,IAAA,WAAAyG,aAA4BC,YAAA,IAAAC,cAAA,OAAmCpB,EAAAU,GAAA,KAAAnG,EAAA,UAA2BE,IAAA,cAAAC,YAAA,eAAAuF,OAAoDrJ,KAAAoJ,EAAA5E,KAAAa,UAAA+D,EAAA/D,UAAAC,WAAA8D,EAAA9D,WAAAC,gBAAA6D,EAAA7D,iBAA4GxC,IAAKwE,OAAA6B,EAAA7B,OAAAQ,WAAAqB,EAAArB,WAAAC,YAAAoB,EAAApB,YAAAC,YAAAmB,EAAAnB,eAA6GtE,EAAA,OAAYG,YAAA,iBAA2BsF,EAAAG,GAAAH,EAAA,iBAAAI,EAAAnF,GAA4C,OAAAV,EAAA,eAAyB8G,aAAaJ,KAAA,OAAAK,QAAA,SAAAC,MAAAvB,EAAA/I,OAAAgE,EAAAuG,WAAA,iBAAgFnB,IAAApF,EAAAgF,OAAmB7E,KAAA4E,EAAA5E,UAAmB4E,EAAAU,GAAA,KAAAV,EAAA5E,KAAA,OAAAb,EAAA,aAAgD0F,OAAO1E,KAAAyE,EAAAzE,KAAAG,OAAAsE,EAAAtE,UAAqCsE,EAAAY,KAAAZ,EAAAU,GAAA,KAAAnG,EAAA,aAAuCG,YAAA,gBAAAuF,OAAmC1E,KAAAyE,EAAAxE,aAAqB,KAAAwE,EAAAU,GAAA,KAAAnG,EAAA,WAAkC8G,aAAaJ,KAAA,OAAAK,QAAA,SAAAC,OAAAvB,EAAA5E,KAAAtD,OAAA0J,WAAA,iBAAgFvB,OAASpE,MAAA,MAAYmE,EAAAU,GAAA,KAAAnG,EAAA,cAA+B0F,OAAOgB,KAAA,UAAe1G,EAAA,OAAY8G,aAAaJ,KAAA,OAAAK,QAAA,SAAAC,MAAAvB,EAAA,UAAAwB,WAAA,cAA0E9G,YAAA,qBAAiCH,EAAA,OAAAA,EAAA,MAAqBG,YAAA,UAAoBsF,EAAAU,GAAA,UAAAV,EAAAU,GAAA,KAAAnG,EAAA,OAAyCG,YAAA,WAAsBsF,EAAAG,GAAAH,EAAA,iBAAAI,EAAAnF,GAA2C,OAAAV,EAAA,QAAkB8F,IAAApF,EAAAP,YAAA,OAAAf,IAAiCR,MAAA,SAAA2H,GAAyBd,EAAA/B,OAAAhD,OAAoB+E,EAAAU,GAAAV,EAAAW,GAAAP,EAAAa,cAA8BjB,EAAAU,GAAA,KAAAnG,EAAA,OAA2BG,YAAA,QAAAf,IAAwBR,MAAA6G,EAAAhB,oBAAyB,IAE5kFpE,oBCCjB,IAcA6G,EAdA3G,EAAA,OAcA4G,CACAzG,EACA8E,GATA,EAVA,SAAA/E,GACAF,EAAA,SAaA,KAEA,MAUA6G,EAAA,QAAAF,EAAA","file":"js/3.4aaa2e4162a5778c6b3b.js","sourcesContent":["export function hasClass (el, className) {\n  let reg = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)')\n  return reg.test(el.className)\n}\n\nexport function addClass (el, className) {\n  if (hasClass(el, className)) {\n    return\n  }\n\n  let newClass = el.className.split(' ')\n  newClass.push(className)\n  el.className = newClass.join(' ')\n}\n\nexport function removeClass (el, className) {\n  if (!hasClass(el, className)) {\n    return\n  }\n\n  let reg = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)', 'g')\n  el.className = el.className.replace(reg, ' ')\n}\n\nexport function getData (el, name, val) {\n  let prefix = 'data-'\n  if (val) {\n    return el.setAttribute(prefix + name, val)\n  }\n  return el.getAttribute(prefix + name)\n}\n\nexport function getRect (el) {\n  if (el instanceof window.SVGElement) {\n    let rect = el.getBoundingClientRect()\n    return {\n      top: rect.top,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    }\n  } else {\n    return {\n      top: el.offsetTop,\n      left: el.offsetLeft,\n      width: el.offsetWidth,\n      height: el.offsetHeight\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/dom.js","<template>\n  <div class=\"slider\" ref=\"slider\">\n    <div class=\"slider-group\" ref=\"sliderGroup\">\n      <slot>\n      </slot>\n    </div>\n  </div>\n</template>\n<script>\nimport BScroll from 'better-scroll'\nimport {addClass} from '../../common/js/dom.js'\n\nexport default {\n  data () {\n    return {\n      dots: [],\n      currentPageIndex: 0\n    }\n  },\n  props: {\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    autoPlay: {\n      type: Boolean,\n      default: true\n    },\n    interval: {\n      type: Number,\n      default: 4000\n    }\n  },\n  mounted () {\n    setTimeout(() => {\n      this._setSliderWidth()\n      this.dots = new Array(this.children.length)\n      this._initSlider()\n\n      if (this.autoPlay) {\n        this._play()\n      }\n    }, 20)\n\n    window.addEventListener('resize', () => {\n      if (!this.slider) {\n        return\n      }\n      this._setSliderWidth(true)\n      this.slider.refresh()\n    })\n  },\n  destroyed () {\n    clearTimeout(this.timer)\n  },\n  methods: {\n    _setSliderWidth (isResize) {\n      this.children = this.$refs.sliderGroup.children\n      let width = 0\n      let sliderWidth = this.$refs.slider.clientWidth\n      for (let i = 0; i < this.children.length; i++) {\n        let child = this.children[i]\n        addClass(child, 'slider-item')\n\n        child.style.width = sliderWidth + 'px'\n        width += sliderWidth\n      }\n      if (this.loop && !isResize) {\n        width += 2 * sliderWidth\n      }\n      this.$refs.sliderGroup.style.width = width + 'px'\n    },\n    _initSlider () {\n      this.slider = new BScroll(this.$refs.slider, {\n        click: true,\n        scrollX: true,\n        scrollY: false,\n        eventPassthrough: 'vertical',\n        momentum: false,\n        snap: {\n          loop: true,\n          threshold: 0.3,\n          speed: 500\n        }\n      })\n\n      this.slider.on('scrollEnd', () => {\n        let pageIndex = this.slider.getCurrentPage().pageX\n        this.currentPageIndex = pageIndex\n        if (this.autoPlay) {\n          clearTimeout(this.timer)\n          this._play()\n        }\n      })\n\n      this.slider.on('scrollStart', () => {\n        clearTimeout(this.timer)\n      })\n    },\n    _play () {\n      let pageIndex = this.currentPageIndex\n      if (this.loop) {\n        pageIndex += 1\n      }\n      console.log(pageIndex)\n      this.timer = setTimeout(() => {\n        this.slider.next(500)\n      }, this.interval)\n    }\n  }\n}\n</script>\n<style lang=\"stylus\">\n.slider\n    min-height: 1px\n    overflow: hidden\n    .slider-group\n      overflow: hidden\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/slider/slider.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"slider\",staticClass:\"slider\"},[_c('div',{ref:\"sliderGroup\",staticClass:\"slider-group\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-254a300c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/slider/slider.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-254a300c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./slider.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./slider.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./slider.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-254a300c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./slider.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/slider/slider.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"index\">\n    <div v-if=\"slide.length\" class=\"slider-wrapper\" ref=\"sliderWrapper\">\n      <slider>\n        <div class=\"slider-item\" v-for=\"(item, index) in slide\" :key=\"index\">\n          <a :href=\"item.url\" class=\"slider-pic\">\n            <img :src=\"item.thumb\" @load=\"loadImage\">\n          </a>\n          <p class=\"slider-info\">{{item.title}}</p>\n        </div>\n      </slider>\n    </div>\n    <div class=\"news-nav\" v-if=\"newsNav.length\" ref=\"navWrapper\">\n      <scroll :data=\"newsNav\" :scrollX=\"scrollX\" :scrollY=\"scrollY\" :eventPassthrough=\"eventPassthrough\" ref=\"navScroll\">\n        <div class=\"nav-content\" ref=\"navContent\">\n          <div class=\"nav-btn\" v-for=\"(item, index) in newsNav\" :key=\"index\" @click=\"change(index)\" ref=\"navBtn\">\n            <span :class=\"{'nav-s':type===index}\">{{item.name}}</span>\n          </div>\n        </div>\n        <div class=\"nav-more-btn\" @click=\"showMoreTab\"></div>\n      </scroll>\n    </div>\n    <div style=\"font-size: 0; line-height: 0\" ref=\"newsMark\"></div>\n    <scroll @scroll=\"scroll\" @touchToEnd=\"touchToEnd\" @scrollToTop=\"scrollToTop\" @pullingDown=\"pullingDown\" :data=\"news\" :probeType=\"probeType\" :pullUpLoad=\"pullUpLoad\" :pullDownRefresh=\"pullDownRefresh\" class=\"news-wrapper\" ref=\"newsWrapper\">\n      <div class=\"news-content\">\n        <news-column :news=\"news\" v-for=\"(item, index) in newsNav\" :key=\"index\" v-show=\"type===index\"></news-column>\n        <load-tips :tips=\"tips\" :isLoad=\"isLoad\" v-if=\"news.length\"></load-tips>\n        <load-tips :tips=\"downTips\" class=\"pulldown-tips\"></load-tips>\n      </div>\n    </scroll>\n    <loading v-show=\"!news.length\" :title=\"''\"></loading>\n    <transition name=\"fade\">\n      <div class=\"nav-more-wrapper\" v-show=\"isMoreTab\">\n        <div>\n          <h1 class=\"title\">更多栏目</h1>\n          <div class=\"content\">\n            <span class=\"item\" v-for=\"(item, index) in newsNav\" :key=\"index\" @click=\"change(index)\">{{item.name}}</span>\n          </div>\n        </div>\n        <div class=\"close\" @click=\"hideMoreTab\"></div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport Slider from '../../components/slider/slider.vue'\nimport Scroll from '../../components/scroll/scroll.vue'\nimport NewsColumn from '../../components/news-column/news-column.vue'\nimport LoadTips from '../../components/load-tips/load-tips.vue'\nimport Loading from '../../components/loading/loading.vue'\nimport {getApi} from '../../api/getApi.js'\nimport {share} from '../../common/js/share.js'\n\nconst ERR_OK = 0\nexport default {\n  data () {\n    return {\n      slide: [],\n      scrollH: 0,\n      news: [],\n      newsNav: [],\n      type: 0,\n      page: 0,\n      tips: '上滑加载更多',\n      downTips: '下拉刷新',\n      isShow: true,\n      isLoad: null,\n      isMoreTab: null,\n      shareVal: {\n        title: '赛恩财经:聚合财经新媒体',\n        summary: '赛恩财经，提供全球股票,外汇,期货,债券,基金和数字货币等数十万种金融投资产品的实时行情和新闻资讯,以及多种投资工具。',\n        thumb: 'https://cnibd.oss-cn-beijing.aliyuncs.com/resource/images/sharelogo.png'\n      }\n    }\n  },\n  created () {\n    this.scrollX = true\n    this.scrollY = false\n    this.eventPassthrough = 'vertical'\n    this.probeType = 3\n    this.pullUpLoad = true\n    this.pullDownRefresh = true\n    this._getSlider()\n    this._getNewsNav()\n    this._getNews()\n  },\n  mounted () {\n    share(this.shareVal)\n  },\n  methods: {\n    loadImage () {\n      if (!this.checkLoaded) {\n        this.$refs.newsWrapper.refresh()\n        this._getNews()\n        this.checkLoaded = true\n      }\n    },\n    _getSlider () {\n      getApi('/slide').then(res => {\n        if (res.data.errorCode === ERR_OK) {\n          this.slide = res.data.data\n        } else {\n          this.slide = []\n        }\n      })\n    },\n    _getNewsNav () {\n      getApi('/categories').then(res => {\n        if (res.data.errorCode === ERR_OK) {\n          this.newsNav = res.data.data\n          this.$nextTick(() => {\n            let width = 0\n            for (let i = 0; i < this.newsNav.length; i++) {\n              width += this.$refs.navBtn[i].getBoundingClientRect().width\n            }\n            this.$refs.navContent.style.width = width + 'px'\n          })\n        }\n      })\n    },\n    _getNews () {\n      getApi(`/list?page=0&type=${this.type}`).then(res => {\n        if (res.data.errorCode === ERR_OK) {\n          this.news = res.data.data\n          this.$nextTick(() => {\n            this.navHeight = this.$refs.navWrapper.clientHeight\n            this.topHeight = this.$refs.newsMark.getBoundingClientRect().top\n            this.minTranslateY = this.navHeight - this.topHeight\n            this.$refs.newsWrapper.$el.style.top = `${this.topHeight}px`\n          })\n        } else {\n          this.news = []\n          this.tips = '暂无数据'\n        }\n      }).catch(error => {\n        if (!error.res) {\n          this.news = []\n          this.tips = '网络不给力，请稍后重试'\n        }\n      })\n    },\n    loadMore () {\n      this.tips = '加载中...'\n      this.isLoad = true\n      this.page++\n      getApi(`/list?page=${this.page}&type=${this.type}`).then((res) => {\n        this.isLoad = false\n        if (res.data.errorCode === ERR_OK) {\n          this.news = this.news.concat(res.data.data)\n          this.tips = '上滑加载更多'\n        } else {\n          this.tips = '没有更多数据了~'\n        }\n      }).catch(error => {\n        if (!error.res) {\n          this.isLoad = false\n          this.tips = '网络不给力，请稍后重试'\n        }\n      })\n    },\n    change (i) {\n      this.type = i\n      this.page = 0\n      this.scrollCenter(i)\n      this.isMoreTab = false\n    },\n    scroll (pos) {\n      this.scrollH = pos.y\n    },\n    scrollCenter (val) {\n      this.$refs.navScroll.scrollToElement(this.$refs.navBtn[val], 300, true, true)\n      this.$refs.navScroll.refresh()\n    },\n    scrollTop () {\n      this.$refs.newsWrapper.scrollTo(0, this.minTranslateY, 20)\n    },\n    touchToEnd () {\n      this.loadMore()\n    },\n    scrollToTop () {\n      this.downTips = '松开刷新'\n    },\n    pullingDown () {\n      this.news = []\n      this.downTips = '正在刷新'\n      setTimeout(() => {\n        this._getNews()\n        this.downTips = '下拉刷新'\n      }, 400)\n    },\n    showMoreTab () {\n      this.isMoreTab = true\n    },\n    hideMoreTab () {\n      this.isMoreTab = false\n    }\n  },\n  watch: {\n    type (i) {\n      this._getNews()\n      this.scrollTop()\n    },\n    scrollH (newY) {\n      if (newY <= 0) {\n        let translateY = Math.max(this.minTranslateY, newY)\n        this.$refs.navWrapper.style['transform'] = `translate3d(0, ${translateY}px, 0)`\n      }\n    }\n  },\n  components: {\n    'news-column': NewsColumn,\n    'load-tips': LoadTips,\n    'loading': Loading,\n    'slider': Slider,\n    'scroll': Scroll\n  },\n  destroyed () {\n    window.removeEventListener('scroll', this.handleScroll)\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n@import \"../../common/stylus/mixin.styl\"\n.slider-wrapper\n  height 18rem\n  margin-bottom 0.6rem\n  .slider\n    min-height: 1px\n    overflow: hidden\n    .slider-group\n      overflow: hidden\n      .slider-item\n        position relative\n        float: left\n        .slider-pic\n          display block\n          img\n            width 100%\n            height 18rem\n        .slider-info\n          overflow hidden\n          box-sizing border-box\n          position absolute\n          bottom 0\n          left 0\n          width 100%\n          padding 0 2rem\n          line-height 3rem\n          font-size 1.6rem\n          background-color rgba(0,0,0,0.5)\n          color #fff\n          text-align center\n          white-space nowrap\n          text-overflow ellipsis\n.news-nav\n  position relative\n  width 100%\n  height 4.4rem\n  overflow hidden\n  z-index 10\n  border-1px(rgba(7,17,27,0.1))\n  background-color #fff\n  .nav-content\n    overflow hidden\n    padding-right 4rem\n    .nav-btn\n      float left\n      display inline-block\n      span\n        display inline-block\n        line-height 1.6rem\n        font-size 1.6rem\n        padding 1.4rem 2rem 1.2rem\n        border-bottom 0.2rem solid #fff\n        &.nav-s\n          border-color #1f8bee\n          color #1f8bee\n  .nav-more-btn\n    position absolute\n    top 0\n    right 0\n    width 4rem\n    height 4.4rem\n    box-shadow -0.1rem 0 1.5rem 0.5rem #fff\n    background url(./nav-more.png) no-repeat center\n    background-size 4rem 4rem\n    background-color #fff\n.news-wrapper\n  position fixed\n  top 0\n  left 0\n  right 0\n  bottom 0\n  .news-content\n    position relative\n    padding 0 2rem\n    background-color #fff\n    .pulldown-tips\n      position absolute\n      top -4rem\n      left 0\n.nav-more-wrapper\n  display flex\n  flex-direction column\n  justify-content space-between\n  position fixed\n  top 0\n  left 0\n  width 100%\n  height 100vh\n  background-color rgba(7,17,27,0.9)\n  transition all 0.5s\n  backdrop-filter: blur(10px)\n  z-index 200\n  &.fade-transition\n    opacity 1\n  &.fade-enter, &.fade-leave\n    opacity 0\n  .title\n    height 4.92rem\n    line-height 4.92rem\n    font-size 1.6rem\n    border-1px(rgba(255,255,255,0.2))\n    text-align center\n    color #fff\n  .content\n    padding 0 1rem\n    box-sizing border-box\n    color #393a4c\n    .item\n      display inline-block\n      width 25.33%\n      height 2.8rem\n      line-height 2.8rem\n      vertical-align middle\n      margin 2.4rem 4% 0\n      border-radius 1.4rem\n      text-align center\n      background-color #f8f8f8\n  .close\n    width 4rem\n    height 4rem\n    margin 0 auto 7rem\n    background url(./icon-close.png) no-repeat center\n    background-size 4rem\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/index/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"index\"}},[(_vm.slide.length)?_c('div',{ref:\"sliderWrapper\",staticClass:\"slider-wrapper\"},[_c('slider',_vm._l((_vm.slide),function(item,index){return _c('div',{key:index,staticClass:\"slider-item\"},[_c('a',{staticClass:\"slider-pic\",attrs:{\"href\":item.url}},[_c('img',{attrs:{\"src\":item.thumb},on:{\"load\":_vm.loadImage}})]),_vm._v(\" \"),_c('p',{staticClass:\"slider-info\"},[_vm._v(_vm._s(item.title))])])}))],1):_vm._e(),_vm._v(\" \"),(_vm.newsNav.length)?_c('div',{ref:\"navWrapper\",staticClass:\"news-nav\"},[_c('scroll',{ref:\"navScroll\",attrs:{\"data\":_vm.newsNav,\"scrollX\":_vm.scrollX,\"scrollY\":_vm.scrollY,\"eventPassthrough\":_vm.eventPassthrough}},[_c('div',{ref:\"navContent\",staticClass:\"nav-content\"},_vm._l((_vm.newsNav),function(item,index){return _c('div',{key:index,ref:\"navBtn\",refInFor:true,staticClass:\"nav-btn\",on:{\"click\":function($event){_vm.change(index)}}},[_c('span',{class:{'nav-s':_vm.type===index}},[_vm._v(_vm._s(item.name))])])})),_vm._v(\" \"),_c('div',{staticClass:\"nav-more-btn\",on:{\"click\":_vm.showMoreTab}})])],1):_vm._e(),_vm._v(\" \"),_c('div',{ref:\"newsMark\",staticStyle:{\"font-size\":\"0\",\"line-height\":\"0\"}}),_vm._v(\" \"),_c('scroll',{ref:\"newsWrapper\",staticClass:\"news-wrapper\",attrs:{\"data\":_vm.news,\"probeType\":_vm.probeType,\"pullUpLoad\":_vm.pullUpLoad,\"pullDownRefresh\":_vm.pullDownRefresh},on:{\"scroll\":_vm.scroll,\"touchToEnd\":_vm.touchToEnd,\"scrollToTop\":_vm.scrollToTop,\"pullingDown\":_vm.pullingDown}},[_c('div',{staticClass:\"news-content\"},[_vm._l((_vm.newsNav),function(item,index){return _c('news-column',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.type===index),expression:\"type===index\"}],key:index,attrs:{\"news\":_vm.news}})}),_vm._v(\" \"),(_vm.news.length)?_c('load-tips',{attrs:{\"tips\":_vm.tips,\"isLoad\":_vm.isLoad}}):_vm._e(),_vm._v(\" \"),_c('load-tips',{staticClass:\"pulldown-tips\",attrs:{\"tips\":_vm.downTips}})],2)]),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.news.length),expression:\"!news.length\"}],attrs:{\"title\":''}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isMoreTab),expression:\"isMoreTab\"}],staticClass:\"nav-more-wrapper\"},[_c('div',[_c('h1',{staticClass:\"title\"},[_vm._v(\"更多栏目\")]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},_vm._l((_vm.newsNav),function(item,index){return _c('span',{key:index,staticClass:\"item\",on:{\"click\":function($event){_vm.change(index)}}},[_vm._v(_vm._s(item.name))])}))]),_vm._v(\" \"),_c('div',{staticClass:\"close\",on:{\"click\":_vm.hideMoreTab}})])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-06cb0aa9\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/pages/index/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-06cb0aa9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-06cb0aa9\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/index/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}