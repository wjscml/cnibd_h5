{"version":3,"sources":["webpack:///src/components/switches/switches.vue","webpack:///./src/components/switches/switches.vue?42e7","webpack:///./src/components/switches/switches.vue","webpack:///src/pages/favor/favor.vue","webpack:///./src/pages/favor/favor.vue?5851","webpack:///./src/pages/favor/favor.vue"],"names":["switches","props","currentIndex","type","Number","default","methods","switchItem","index","this","$emit","switches_switches","render","_vm","_h","$createElement","_c","_self","staticClass","_l","item","key","class","active","on","click","$event","_v","_s","name","staticRenderFns","components_switches_switches","__webpack_require__","normalizeComponent","ssrContext","favor","data","favoriteList","favoriteColumnist","currentNews","currentAuthor","confirmText","page","tips","isLoad","shareVal","title","document","summary","thumb","mounted","Object","share","computed","extends_default","noResult","length","noResultDesc","vuex_esm","created","console","log","loginState","errorCode","getFavoriteArticle","getFavoriteColumnist","pullUpLoad","$router","push","alert","_this","getApi","session","then","res","publishArticles","_this2","loadMore","_this3","concat","catch","error","showConfirm","$refs","confirm","show","articleId","id","n","nickname","followUserId","author_id","deleteFavorite","_this4","slice","components","confirm_confirm","scroll","scroll_scroll","load-tips","load_tips","favor_favor","attrs","switch","pullupLoad","touchToEnd","to","tag","author_name","directives","rawName","value","expression","_e","vip","is_certificate","src","avatar","description","ref","text","favor_Component","favor_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"js/4.ce086c6f7a6e65ba7eb3.js","sourcesContent":["<template>\n  <div class=\"switches\">\n    <div class=\"switch-content\">\n      <div class=\"switch-item\" v-for=\"(item, index) in switches\" :key=\"index\" :class=\"{'active':currentIndex === index}\" @click=\"switchItem(index)\">\n        <span>{{item.name}}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    switches: {},\n    currentIndex: {\n      type: Number,\n      default: 0\n    }\n  },\n  methods: {\n    switchItem (index) {\n      this.$emit('switch', index)\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.switches\n  box-sizing border-box\n  width 100%\n  padding 0.5rem 5rem\n  height 5rem\n  background-color #fff\n  .switch-content\n    display: flex\n    align-items: center\n    border-radius .4rem\n    border 1px solid #1f8bee\n    .switch-item\n      flex 1\n      text-align: center\n      font-size: 1.5rem\n      color: #393a4c\n      &.active\n        background-color #1f8bee\n        color: #fff\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/switches/switches.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"switches\"},[_c('div',{staticClass:\"switch-content\"},_vm._l((_vm.switches),function(item,index){return _c('div',{key:index,staticClass:\"switch-item\",class:{'active':_vm.currentIndex === index},on:{\"click\":function($event){_vm.switchItem(index)}}},[_c('span',[_vm._v(_vm._s(item.name))])])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-77297c7c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/switches/switches.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77297c7c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./switches.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./switches.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./switches.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-77297c7c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./switches.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/switches/switches.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"favor\">\n    <div class=\"switches-wrapper\">\n      <switches @switch=\"switchItem\" :switches=\"switches\" :currentIndex=\"currentIndex\"></switches>\n    </div>\n    <scroll class=\"list-wrapper\" :data=\"favoriteList\" v-if=\"currentIndex===1\" :pullupLoad=\"pullUpLoad\" @touchToEnd=\"loadMore\">\n      <div class=\"news-list\">\n        <div class=\"news-item\" v-for=\"(item, index) in favoriteList\" :key=\"index\">\n          <router-link :to=\"`/site/${item.id}`\" tag=\"div\" class=\"item-text\">\n            <h1 class=\"title\">{{item.title}}</h1>\n            <p class=\"author\">{{item.author_name}}</p>\n          </router-link>\n          <div class=\"item-icon\" @click=\"showConfirm(item, index)\">\n            <i class=\"icon-like\"></i>\n          </div>\n        </div>\n        <load-tips v-show=\"favoriteList.length > 5\" :tips=\"tips\" :isLoad=\"isLoad\"></load-tips>\n      </div>\n    </scroll>\n    <scroll class=\"list-wrapper\" :data=\"favoriteColumnist\" v-if=\"currentIndex===0\" :pullUpLoad=\"pullUpLoad\" @touchToEnd=\"loadMore\">\n      <div class=\"author-list\">\n        <div class=\"author-item\" v-for=\"(item, index) in favoriteColumnist\" :key=\"index\">\n          <router-link :to=\"`/columnist/${item.author_id}`\" tag=\"div\" class=\"item-avatar\" :class=\"{'vip': item.is_certificate === 1}\">\n            <img :src=\"item.avatar\">\n          </router-link>\n          <router-link :to=\"`/columnist/${item.author_id}`\" tag=\"div\" class=\"item-text\">\n            <h1 class=\"name\">{{item.nickname}}</h1>\n            <p class=\"info\">{{item.description}}</p>\n          </router-link>\n          <div class=\"item-icon\" @click=\"showConfirm(item, index)\">\n            <i class=\"icon-like\"></i>\n          </div>\n        </div>\n        <load-tips v-show=\"favoriteColumnist.length > 5\" :tips=\"tips\" :isLoad=\"isLoad\"></load-tips>\n      </div>\n    </scroll>\n    <confirm @confirm=\"deleteFavorite\" :text=\"confirmText\" ref=\"confirm\"></confirm>\n    <div class=\"no-result-wrapper\" v-show=\"noResult\">\n      <i class=\"icon-no_result\"></i>\n      <p>{{noResultDesc}}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Scroll from '../../components/scroll/scroll'\nimport Confirm from '../../components/confirm/confirm'\nimport Switches from '../../components/switches/switches'\nimport LoadTips from '../../components/load-tips/load-tips.vue'\nimport {postApi} from '../../api/getApi.js'\nimport {mapGetters} from 'vuex'\nimport {share} from '../../common/js/share.js'\n\nconst ERR_OK = '0'\nexport default {\n  data () {\n    return {\n      favoriteList: [],\n      favoriteColumnist: [],\n      currentIndex: 0,\n      switches: [\n        {\n          name: '作者'\n        },\n        {\n          name: '文章'\n        }\n      ],\n      currentNews: [],\n      currentAuthor: [],\n      confirmText: '',\n      page: 0,\n      tips: '上滑加载更多',\n      isLoad: null,\n      shareVal: {\n        title: document.title,\n        summary: '赛恩财经，提供全球股票、外汇、期货、债券、基金和数字货币等数十万种金融投资产品的实时行情和新闻资讯以及多种投资工具。',\n        thumb: 'https://cnibd.oss-cn-beijing.aliyuncs.com/resource/images/sharelogo.png'\n      }\n    }\n  },\n  mounted () {\n    share(this.shareVal)\n  },\n  computed: {\n    noResult () {\n      if (this.currentIndex === 1) {\n        return !this.favoriteList.length\n      } else {\n        return !this.favoriteColumnist.length\n      }\n    },\n    noResultDesc () {\n      if (this.currentIndex === 1) {\n        return '暂无收藏文章'\n      } else {\n        return '暂无关注作者'\n      }\n    },\n    ...mapGetters([\n      'loginState'\n    ])\n  },\n  created () {\n    console.log(this.loginState)\n    if (this.loginState && this.loginState.errorCode === ERR_OK) {\n      this.getFavoriteArticle()\n      this.getFavoriteColumnist()\n      this.pullUpLoad = true\n    } else {\n      this.$router.push('/login')\n      alert('请先登录')\n    }\n  },\n  methods: {\n    getFavoriteArticle () {\n      postApi('article.getKeepList', {\n        session: this.loginState.data.session || this.loginState.data.data.session,\n        page: 0\n      }).then(res => {\n        console.log(res)\n        if (res.data && res.data.errorCode === ERR_OK) {\n          this.favoriteList = res.data.data.publishArticles\n        }\n      })\n    },\n    getFavoriteColumnist () {\n      postApi('user.getFollowAuthorList', {\n        session: this.loginState.data.session || this.loginState.data.data.session,\n        page: 0\n      }).then(res => {\n        if (res.data && res.data.errorCode === ERR_OK) {\n          this.favoriteColumnist = res.data.data\n        }\n      })\n    },\n    loadMore () {\n      this.tips = '加载中...'\n      this.isLoad = true\n      this.page++\n      if (this.currentIndex === 1) {\n        postApi('article.getKeepList', {\n          session: this.loginState.data.session || this.loginState.data.data.session,\n          page: this.page\n        }).then((res) => {\n          this.isLoad = false\n          if (res.data.errorCode === ERR_OK) {\n            this.favoriteList = this.favoriteList.concat(res.data.data.publishArticles)\n            this.tips = '上滑加载更多'\n          } else {\n            this.tips = '没有更多数据了~'\n          }\n        }).catch(error => {\n          if (!error.res) {\n            this.isLoad = false\n            this.tips = '网络不给力，请稍后重试'\n          }\n        })\n      }\n      if (this.currentIndex === 0) {\n        postApi('user.getFollowAuthorList', {\n          session: this.loginState.data.session || this.loginState.data.data.session,\n          page: this.page\n        }).then((res) => {\n          this.isLoad = false\n          if (res.data.errorCode === ERR_OK) {\n            this.favoriteColumnist = this.favoriteColumnist.concat(res.data.data)\n            this.tips = '上滑加载更多'\n          } else {\n            this.tips = '没有更多数据了~'\n          }\n        }).catch(error => {\n          if (!error.res) {\n            this.isLoad = false\n            this.tips = '网络不给力，请稍后重试'\n          }\n        })\n      }\n    },\n    switchItem (index) {\n      this.currentIndex = index\n    },\n    showConfirm (item, index) {\n      this.$refs.confirm.show()\n      if (this.currentIndex === 1) {\n        this.currentNews = item\n        this.confirmText = '是否不再收藏此文章'\n        this.articleId = item.id\n        this.n = index\n      }\n      if (this.currentIndex === 0) {\n        this.currentAuthor = item\n        this.confirmText = `是否不再收藏 \"${item.nickname}\"`\n        this.followUserId = item.author_id\n        this.n = index\n      }\n    },\n    deleteFavorite () {\n      if (this.currentIndex === 1) {\n        postApi('article.keep', {\n          session: this.loginState.data.session || this.loginState.data.data.session,\n          articleId: this.articleId\n        }).then(res => {\n          this.favoriteList = this.favoriteList.slice(0, this.n).concat(this.favoriteList.slice(this.n + 1))\n        })\n      }\n      if (this.currentIndex === 0) {\n        postApi('user.follow', {\n          session: this.loginState.data.session || this.loginState.data.data.session,\n          followUserId: this.followUserId\n        }).then(res => {\n          this.favoriteColumnist = this.favoriteColumnist.slice(0, this.n).concat(this.favoriteColumnist.slice(this.n + 1))\n        })\n      }\n    }\n  },\n  components: {\n    'switches': Switches,\n    'confirm': Confirm,\n    'scroll': Scroll,\n    'load-tips': LoadTips\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n@import \"../../common/stylus/mixin.styl\"\n@import \"../../common/stylus/vip.styl\"\n.favor\n  .switches-wrapper\n    margin-top -0.1rem\n    border-1px(rgba(7,17,27,0.1))\n  .list-wrapper\n    position fixed\n    top 9.9rem\n    bottom 0\n    width 100%\n    overflow hidden\n    .news-list\n      padding 0 2rem\n      background-color #fff\n      .news-item\n        display flex\n        align-items center\n        padding 1.6rem 0\n        border-1px(rgba(7,17,27,0.1))\n        &:last-child\n          border-1px(rgba(7,17,27,0))\n        .item-text\n          flex 1\n          .title\n            margin-bottom 0.8rem\n            height 4rem\n            line-height 2rem\n            font-size 1.5rem\n            font-weight 600\n            color #393a4c\n            overflow hidden\n            display: -webkit-box\n            -webkit-line-clamp: 2\n            -webkit-box-orient: vertical\n          .author\n            line-height 1.2rem\n            color #999\n            font-size 1.2rem\n        .item-icon\n          extend-click()\n          width 2.4rem\n          margin-left 4rem\n          text-align center\n          font-size 0\n          .icon-like\n            font-size 2rem\n            color #1f8bee\n    .author-list\n      padding 0 2rem\n      background-color #fff\n      .author-item\n        display flex\n        align-items center\n        padding 1.6rem 0\n        border-1px(rgba(7,17,27,0.1))\n        &:last-child\n          border-1px(rgba(7,17,27,0))\n        .item-avatar\n          margin-right 1.4rem\n          &.vip\n            vip(1.6rem, url(../../common/image/vip-steps.png))\n          img\n            width 5rem\n            height 5rem\n            border-radius 50%\n            border 1px solid rgba(31,139,238,.4)\n        .item-text\n          flex 1\n          .name\n            margin-bottom 0.8rem\n            height 2rem\n            line-height 2rem\n            font-size 1.5rem\n            font-weight 600\n            color #393a4c\n            overflow hidden\n            display: -webkit-box\n            -webkit-line-clamp: 1\n            -webkit-box-orient: vertical\n          .info\n            height 1.6rem\n            line-height 1.6rem\n            color #999\n            font-size 1.2rem\n            overflow hidden\n            display: -webkit-box\n            -webkit-line-clamp: 1\n            -webkit-box-orient: vertical\n        .item-icon\n          extend-click()\n          width 2.4rem\n          margin-left 4rem\n          text-align center\n          font-size 0\n          .icon-like\n            font-size 2rem\n            color #1f8bee\n  .no-result-wrapper\n    margin-top 4rem\n    text-align center\n    color #757575\n    .icon-no_result\n      font-size 11rem\n      color #bfbfbf\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/favor/favor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"favor\"},[_c('div',{staticClass:\"switches-wrapper\"},[_c('switches',{attrs:{\"switches\":_vm.switches,\"currentIndex\":_vm.currentIndex},on:{\"switch\":_vm.switchItem}})],1),_vm._v(\" \"),(_vm.currentIndex===1)?_c('scroll',{staticClass:\"list-wrapper\",attrs:{\"data\":_vm.favoriteList,\"pullupLoad\":_vm.pullUpLoad},on:{\"touchToEnd\":_vm.loadMore}},[_c('div',{staticClass:\"news-list\"},[_vm._l((_vm.favoriteList),function(item,index){return _c('div',{key:index,staticClass:\"news-item\"},[_c('router-link',{staticClass:\"item-text\",attrs:{\"to\":(\"/site/\" + (item.id)),\"tag\":\"div\"}},[_c('h1',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('p',{staticClass:\"author\"},[_vm._v(_vm._s(item.author_name))])]),_vm._v(\" \"),_c('div',{staticClass:\"item-icon\",on:{\"click\":function($event){_vm.showConfirm(item, index)}}},[_c('i',{staticClass:\"icon-like\"})])],1)}),_vm._v(\" \"),_c('load-tips',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.favoriteList.length > 5),expression:\"favoriteList.length > 5\"}],attrs:{\"tips\":_vm.tips,\"isLoad\":_vm.isLoad}})],2)]):_vm._e(),_vm._v(\" \"),(_vm.currentIndex===0)?_c('scroll',{staticClass:\"list-wrapper\",attrs:{\"data\":_vm.favoriteColumnist,\"pullUpLoad\":_vm.pullUpLoad},on:{\"touchToEnd\":_vm.loadMore}},[_c('div',{staticClass:\"author-list\"},[_vm._l((_vm.favoriteColumnist),function(item,index){return _c('div',{key:index,staticClass:\"author-item\"},[_c('router-link',{staticClass:\"item-avatar\",class:{'vip': item.is_certificate === 1},attrs:{\"to\":(\"/columnist/\" + (item.author_id)),\"tag\":\"div\"}},[_c('img',{attrs:{\"src\":item.avatar}})]),_vm._v(\" \"),_c('router-link',{staticClass:\"item-text\",attrs:{\"to\":(\"/columnist/\" + (item.author_id)),\"tag\":\"div\"}},[_c('h1',{staticClass:\"name\"},[_vm._v(_vm._s(item.nickname))]),_vm._v(\" \"),_c('p',{staticClass:\"info\"},[_vm._v(_vm._s(item.description))])]),_vm._v(\" \"),_c('div',{staticClass:\"item-icon\",on:{\"click\":function($event){_vm.showConfirm(item, index)}}},[_c('i',{staticClass:\"icon-like\"})])],1)}),_vm._v(\" \"),_c('load-tips',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.favoriteColumnist.length > 5),expression:\"favoriteColumnist.length > 5\"}],attrs:{\"tips\":_vm.tips,\"isLoad\":_vm.isLoad}})],2)]):_vm._e(),_vm._v(\" \"),_c('confirm',{ref:\"confirm\",attrs:{\"text\":_vm.confirmText},on:{\"confirm\":_vm.deleteFavorite}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noResult),expression:\"noResult\"}],staticClass:\"no-result-wrapper\"},[_c('i',{staticClass:\"icon-no_result\"}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.noResultDesc))])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-3534887a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/pages/favor/favor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3534887a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./favor.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./favor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./favor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3534887a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./favor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/favor/favor.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}