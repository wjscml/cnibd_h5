webpackJsonp([2],{"2q8J":function(t,e,s){"use strict";e.b=function(t){var e=document.createElement("div");e.innerHTML=t;var s=e.innerText||e.textContent;return e=null,s},e.a=function(t){return 0===t.length?"":t.replace(/<table/g,'<div class="table-container"><table').replace(/<\/table>/g,"</table></div>")}},"9fqq":function(t,e){},Q869:function(t,e){},XSJt:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("dyDs"),a=s("/gb8"),n=s("2q8J"),o=s("qqiS"),l={data:function(){return{isClose:!0}},props:{isShow:Boolean},created:function(){},methods:{change:function(){this.isClose=!this.isClose},goTop:function(){this.$emit("gotop"),this.isClose=!this.isClose},goHome:function(){this.$router.push({path:"/index"}),this.isClose=!this.isClose},goLast:function(){this.$emit("golast"),this.isClose=!this.isClose},goNext:function(){this.$emit("gonext"),this.isClose=!this.isClose}},watch:{isClose:function(t){!1===t&&(this.$refs.addBtn.style.transform="rotate(-45deg)"),!0===t&&(this.$refs.addBtn.style.transform="rotate(0deg)")}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"floating-wrapper"},[s("div",{staticClass:"floating-btn"},[s("transition",{attrs:{name:"btn"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isClose,expression:"!isClose"}],staticClass:"bg-layer"},[s("div",{staticClass:"item home-btn",on:{click:t.goHome}}),t._v(" "),s("div",{staticClass:"item last-btn",on:{click:t.goLast}}),t._v(" "),s("div",{staticClass:"item next-btn",on:{click:t.goNext}}),t._v(" "),s("div",{staticClass:"item gotop-btn",on:{click:t.goTop}})])]),t._v(" "),s("div",{ref:"addBtn",staticClass:"add-btn",on:{click:t.change}})],1)])},staticRenderFns:[]};var c=s("D8HT")(l,r,!1,function(t){s("Q869")},null,null).exports,d={data:function(){return{newsDetails:{},newsContent:"",isLoading:!0,isShow:!0}},components:{loading:o.a,"floating-btn":c},created:function(){this.httpGet()},mounted:function(){var t=this;setTimeout(function(){var e;window.addEventListener("scroll",function(){t.isShow=!1,clearTimeout(e),e=setTimeout(t.showFloating,400)})},20)},methods:{httpGet:function(){var t=this;Object(a.a)("/detail?article_id="+this.$route.params.id).then(function(e){console.log(e),0===e.data.errorCode&&(t.newsDetails=e.data.data,t.newsContent=Object(n.a)(e.data.data.content),Object(i.a)(t.newsDetails))})},loadAvatar:function(){this.isLoading=!1},gotop:function(){this.$refs.article.scrollIntoView()},gonext:function(){0===this.newsDetails.article_after.length?alert("已经是最后一篇文章啦~"):this.$router.push({path:"/site/"+this.newsDetails.article_after.id})},golast:function(){0===this.newsDetails.article_before.length?alert("已经是第一篇文章啦~"):this.$router.push("/site/"+this.newsDetails.article_before.id)},showFloating:function(){this.isShow=!0}},watch:{$route:function(t,e){this.httpGet()}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:t.newsDetails.title,expression:"newsDetails.title"}],ref:"article",staticClass:"article"},[s("div",{staticClass:"article-header"},[s("h1",{staticClass:"article-title"},[t._v(t._s(t.newsDetails.title))]),t._v(" "),s("div",{staticClass:"article-info"},[s("router-link",{staticClass:"author",attrs:{to:"/columnist/"+t.newsDetails.author_id,tag:"div"}},[s("span",{staticClass:"avatar"},[s("img",{attrs:{src:t.newsDetails.author_avatar},on:{load:t.loadAvatar}})]),t._v(" "),s("span",{staticClass:"name"},[t._v(t._s(t.newsDetails.author_name))])]),t._v(" "),s("div",{staticClass:"time"},[t._v(t._s(t.newsDetails.publish_time))])],1)]),t._v(" "),s("div",{staticClass:"article-content",domProps:{innerHTML:t._s(t.newsContent)}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"loading-container"},[s("loading")],1),t._v(" "),s("floating-btn",{attrs:{isShow:t.isShow},on:{gotop:t.gotop,gonext:t.gonext,golast:t.golast}})],1)},staticRenderFns:[]};var u=s("D8HT")(d,h,!1,function(t){s("9fqq")},null,null);e.default=u.exports}});
//# sourceMappingURL=2.1b264d740c26e0330400.js.map