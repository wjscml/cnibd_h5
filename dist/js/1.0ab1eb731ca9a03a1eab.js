webpackJsonp([1],{BzY0:function(t,e){},K5cZ:function(t,e){},Knqc:function(t,e){},NcgL:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("34v0"),i=s.n(a),n=s("bh5B"),r={props:{placeholder:{type:String,default:"搜索文章关键字"}},data:function(){return{query:""}},methods:{clear:function(){this.query=""},setQuery:function(t){this.query=t},keyupEnter:function(){this.$emit("keyupEnter")}},created:function(){var t=this;this.$watch("query",function(e,s){t.$emit("query",e,s)})}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-box"},[s("i",{staticClass:"icon-search"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"box",attrs:{placeholder:t.placeholder},domProps:{value:t.query},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.keyupEnter(e):null},input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:t.query,expression:"query"}],staticClass:"icon-dismiss",on:{click:t.clear}})])},staticRenderFns:[]};var o=s("D8HT")(r,c,!1,function(t){s("Knqc")},"data-v-35abfba2",null).exports,u=s("A2FV"),l=s("tL1G"),h=s("qqiS"),d=s("/gb8"),f={data:function(){return{news:[],pullUpLoad:!0,tips:"上滑加载更多",page:0,isLoad:null,title:"正在载入...",hasGif:!0,hasMore:null}},props:{query:{type:String,default:""},ensure:{type:Boolean,default:!0}},methods:{_getNews:function(){var t=this;this.hasMore=!0,this.title="正在载入...",this.hasGif=!0,Object(d.a)("/mobile-search?keywords="+this.query+"&page=0").then(function(e){0===e.data.errorCode?(t.hasMore=!1,t.news=e.data.data):(t.news=[],t.title="抱歉，未找到相关内容",t.hasGif=!1)}).catch(function(e){e.res||(t.news=[],t.title="网络不给力，请稍后重试")}),this.$emit("select")},searchMore:function(){var t=this;this.tips="正在加载...",this.isLoad=!0,this.page++,Object(d.a)("/mobile-search?keywords="+this.query+"&page="+this.page).then(function(e){t.isLoad=!1,0===e.data.errorCode?(t.news=t.news.concat(e.data.data),t.tips="上滑加载更多"):t.tips="没有更多数据了~"}).catch(function(e){e.res||(t.tips="网络不给力，请稍后重试")})}},watch:{query:function(t,e){""===e&&(this.news=[])},ensure:function(){this.ensure&&(this.news=[],this._getNews())}},components:{scroll:n.a,"news-column":u.a,"load-tips":l.a,loading:h.a}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("scroll",{staticClass:"suggest",attrs:{data:t.news,pullUpLoad:t.pullUpLoad},on:{touchToEnd:t.searchMore}},[s("div",[s("news-column",{staticClass:"suggest-list",attrs:{news:t.news}}),t._v(" "),s("load-tips",{directives:[{name:"show",rawName:"v-show",value:t.news.length>5,expression:"news.length > 5"}],staticClass:"suggest-tips",attrs:{tips:t.tips,isLoad:t.isLoad}})],1),t._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:t.hasMore,expression:"hasMore"}],attrs:{title:t.title,hasGif:t.hasGif}})],1)},staticRenderFns:[]};var p=s("D8HT")(f,v,!1,function(t){s("BzY0")},null,null).exports,y={props:{text:{type:String,default:""},confirmBtnText:{type:String,default:"确定"},cancelBtnText:{type:String,default:"取消"}},data:function(){return{showFlag:!1}},methods:{show:function(){this.showFlag=!0},hide:function(){this.showFlag=!1},cancel:function(){this.hide(),this.$emit("cancel")},confirm:function(){this.hide(),this.$emit("confirm")}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"confirm-fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"confirm",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"confirm-wrapper"},[s("div",{staticClass:"confirm-content"},[s("p",{staticClass:"text"},[t._v(t._s(t.text))]),t._v(" "),s("div",{staticClass:"operate"},[s("div",{staticClass:"operate-btn",on:{click:t.cancel}},[t._v(t._s(t.cancelBtnText))]),t._v(" "),s("div",{staticClass:"operate-btn",on:{click:t.confirm}},[t._v(t._s(t.confirmBtnText))])])])])])])},staticRenderFns:[]};var w=s("D8HT")(y,m,!1,function(t){s("huBB")},"data-v-0ecdfb13",null).exports,g=s("EcfS"),_=s("dyDs"),C={data:function(){return{hotKey:[],query:"",ensure:!1,shareVal:{title:"赛恩财经:聚合财经新媒体",summary:"赛恩财经，提供全球股票,外汇,期货,债券,基金和数字货币等数十万种金融投资产品的实时行情和新闻资讯,以及多种投资工具。",thumb:"https://cnibd.oss-cn-beijing.aliyuncs.com/resource/images/sharelogo.png"}}},mounted:function(){Object(_.a)(this.shareVal)},created:function(){this._getHotKey()},computed:i()({shortcut:function(){return this.hotKey.concat(this.searchHistory)}},Object(g.c)(["searchHistory"])),methods:i()({addQuery:function(t){""!==t&&(this.ensure=!0,this.$refs.searchBox.setQuery(t))},onQueryChange:function(t,e){this.query=t,""!==e&&(this.ensure=!1)},saveSearch:function(){this.saveSearchHistory(this.query)},deleteOne:function(t){this.deleteSearchHistory(t)},showConfirm:function(){this.$refs.confirm.show()},_getHotKey:function(){var t=this;Object(d.a)("/categories").then(function(e){0===e.data.errorCode&&(t.hotKey=e.data.data)})}},Object(g.b)(["saveSearchHistory","deleteSearchHistory","clearSearchHistory"])),watch:{query:function(t){var e=this;t||(this.ensure=!1,setTimeout(function(){e.$refs.shortcut.refresh()},20))}},components:{scroll:n.a,"search-box":o,suggest:p,confirm:w}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search"},[s("div",{staticClass:"search-box-wrapper"},[s("search-box",{ref:"searchBox",on:{query:t.onQueryChange,keyupEnter:function(e){t.addQuery(t.query)}}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.query&&!t.ensure,expression:"query && !ensure"}],staticClass:"smart-box"},[s("div",{staticClass:"smart-box-wrapper"},[s("p",{staticClass:"ensure-wrapper",on:{click:function(e){t.addQuery(t.query)}}},[t._v("搜索“"+t._s(t.query)+"”")])])])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.query,expression:"!query"}],staticClass:"shortcut-wrapper"},[s("scroll",{ref:"shortcut",staticClass:"shortcut",attrs:{data:t.shortcut}},[s("div",[s("div",{staticClass:"hot-key"},[s("h1",{staticClass:"title"},[t._v("热门搜索")]),t._v(" "),s("ul",t._l(t.hotKey,function(e,a){return s("li",{key:a,staticClass:"item",on:{click:function(s){t.addQuery(e.name)}}},[s("span",[t._v(t._s(e.name))])])}))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.searchHistory.length,expression:"searchHistory.length"}],staticClass:"search-history"},[s("h1",{staticClass:"title"},[s("span",{staticClass:"text"},[t._v("搜索历史")]),t._v(" "),s("span",{staticClass:"clear",on:{click:t.showConfirm}},[s("i",{staticClass:"icon-clear"})])]),t._v(" "),s("div",{staticClass:"search-list"},[s("ul",t._l(t.searchHistory,function(e){return s("li",{key:e,staticClass:"search-item",on:{click:function(s){t.addQuery(e)}}},[s("i",{staticClass:"sign"}),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(e))]),t._v(" "),s("span",{staticClass:"icon",on:{click:function(s){s.stopPropagation(),t.deleteSearchHistory(e)}}},[s("i",{staticClass:"icon-delete"})])])}))])])])])],1),t._v(" "),s("div",{staticClass:"search-result"},[s("suggest",{attrs:{query:t.query,ensure:t.ensure},on:{select:t.saveSearch}})],1),t._v(" "),s("confirm",{ref:"confirm",attrs:{text:"是否清空所有搜索历史"},on:{confirm:t.clearSearchHistory}})],1)},staticRenderFns:[]};var x=s("D8HT")(C,q,!1,function(t){s("K5cZ")},null,null);e.default=x.exports},huBB:function(t,e){}});
//# sourceMappingURL=1.0ab1eb731ca9a03a1eab.js.map