{"version":3,"sources":["webpack:///./src/common/js/dom.js","webpack:///src/components/slider/slider.vue","webpack:///./src/components/slider/slider.vue?aeab","webpack:///./src/components/slider/slider.vue","webpack:///src/pages/index/index.vue","webpack:///./src/pages/index/index.vue?503f","webpack:///./src/pages/index/index.vue"],"names":["hasClass","el","className","RegExp","test","addClass","newClass","split","push","join","slider","data","dots","currentPageIndex","props","loop","type","Boolean","default","autoPlay","interval","Number","mounted","_this","this","setTimeout","_setSliderWidth","Array","children","length","_initSlider","_play","window","addEventListener","refresh","destroyed","clearTimeout","timer","methods","isResize","$refs","sliderGroup","width","sliderWidth","clientWidth","i","child","style","_this2","bscroll_esm","click","scrollX","scrollY","eventPassthrough","momentum","snap","threshold","speed","on","pageIndex","getCurrentPage","pageX","_this3","next","slider_slider","render","_h","$createElement","_c","_self","ref","staticClass","_t","staticRenderFns","components_slider_slider","__webpack_require__","normalizeComponent","ssrContext","index","slide","scrollH","news","newsNav","page","tips","downTips","isShow","isLoad","isMoreTab","shareVal","title","document","summary","thumb","beforeRouteEnter","to","from","history","path","Object","cache","created","probeType","pullUpLoad","pullDownRefresh","listenScrollEnd","_getSlider","_getNewsNav","share","loadImage","checkLoaded","newsWrapper","firstGetNews","getApi","then","res","errorCode","$nextTick","navBtn","getBoundingClientRect","navContent","_getNews","navHeight","navWrapper","height","clientHeight","topHeight","newsMark","top","minTranslateY","$el","scrollTo","catch","error","_this4","loadMore","_this5","concat","change","scrollCenter","scrollTop","scroll","pos","y","scrollEnd","val","navScroll","scrollToElement","touchToEnd","scrollToTop","pullingDown","_this6","showMoreTab","hideMoreTab","watch","newY","translateY","Math","max","components","news-column","news_column","load-tips","load_tips","loading","scroll_scroll","pages_index","_vm","attrs","id","_l","item","key","href","url","src","load","_v","_s","_e","refInFor","$event","class","nav-s","name","staticStyle","font-size","line-height","scroll-end","directives","rawName","value","expression","index_Component","index_normalizeComponent","__webpack_exports__"],"mappings":"iKAAO,SAASA,EAAUC,EAAIC,GAE5B,OADU,IAAIC,OAAO,UAAYD,EAAY,WAClCE,KAAKH,EAAGC,WAGd,SAASG,EAAUJ,EAAIC,GAC5B,IAAIF,EAASC,EAAIC,GAAjB,CAIA,IAAII,EAAWL,EAAGC,UAAUK,MAAM,KAClCD,EAASE,KAAKN,GACdD,EAAGC,UAAYI,EAASG,KAAK,MCA/B,IAAAC,GACAC,KADA,WAEA,OACAC,QACAC,iBAAA,IAGAC,OACAC,MACAC,KAAAC,QACAC,SAAA,GAEAC,UACAH,KAAAC,QACAC,SAAA,GAEAE,UACAJ,KAAAK,OACAH,QAAA,MAGAI,QArBA,WAqBA,IAAAC,EAAAC,KACAC,WAAA,WACAF,EAAAG,kBACAH,EAAAX,KAAA,IAAAe,MAAAJ,EAAAK,SAAAC,QACAN,EAAAO,cAEAP,EAAAJ,UACAI,EAAAQ,SAEA,IAEAC,OAAAC,iBAAA,oBACAV,EAAAb,SAGAa,EAAAG,iBAAA,GACAH,EAAAb,OAAAwB,cAGAC,UAxCA,WAyCAC,aAAAZ,KAAAa,QAEAC,SACAZ,gBADA,SACAa,GACAf,KAAAI,SAAAJ,KAAAgB,MAAAC,YAAAb,SAGA,IAFA,IAAAc,EAAA,EACAC,EAAAnB,KAAAgB,MAAA9B,OAAAkC,YACAC,EAAA,EAAAA,EAAArB,KAAAI,SAAAC,OAAAgB,IAAA,CACA,IAAAC,EAAAtB,KAAAI,SAAAiB,GACAxC,EAAAyC,EAAA,eAEAA,EAAAC,MAAAL,MAAAC,EAAA,KACAD,GAAAC,EAEAnB,KAAAT,OAAAwB,IACAG,GAAA,EAAAC,GAEAnB,KAAAgB,MAAAC,YAAAM,MAAAL,QAAA,MAEAZ,YAjBA,WAiBA,IAAAkB,EAAAxB,KACAA,KAAAd,OAAA,IAAAuC,EAAA,EAAAzB,KAAAgB,MAAA9B,QACAwC,OAAA,EACAC,SAAA,EACAC,SAAA,EACAC,iBAAA,WACAC,UAAA,EACAC,MACAxC,MAAA,EACAyC,UAAA,GACAC,MAAA,OAIAjC,KAAAd,OAAAgD,GAAA,uBACA,IAAAC,EAAAX,EAAAtC,OAAAkD,iBAAAC,MACAb,EAAAnC,iBAAA8C,EACAX,EAAA7B,WACAiB,aAAAY,EAAAX,OACAW,EAAAjB,WAIAP,KAAAd,OAAAgD,GAAA,yBACAtB,aAAAY,EAAAX,UAGAN,MA5CA,WA4CA,IAAA+B,EAAAtC,KACAmC,EAAAnC,KAAAX,iBAOA,OANAW,KAAAT,OACA4C,GAAA,GAEAnC,KAAAa,MAAAZ,WAAA,WACAqC,EAAApD,OAAAqD,KAAA,MACAvC,KAAAJ,UACAuC,KCxGAK,GADiBC,OAFjB,WAA0B,IAAaC,EAAb1C,KAAa2C,eAA0BC,EAAvC5C,KAAuC6C,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,IAAA,SAAAC,YAAA,WAAkCH,EAAA,OAAYE,IAAA,cAAAC,YAAA,iBAA9H/C,KAA2KgD,GAAA,kBAEpLC,oBCCjB,IAuBAC,EAvBAC,EAAA,OAcAC,CACAlE,EACAsD,GATA,EAVA,SAAAa,GACAF,EAAA,SAaA,KAEA,MAUA,4FCgCAG,GACAnE,KADA,WAEA,OACAoE,SACAC,QAAA,EACAC,QACAC,WACAlE,KAAA,EACAmE,KAAA,EACAC,KAAA,SACAC,SAAA,OACAC,QAAA,EACAC,OAAA,KACAC,UAAA,KACAC,UACAC,MAAAC,SAAAD,MACAE,QAAA,6DACAC,MAAA,6EAIAC,iBArBA,SAqBAC,EAAAC,EAAAjC,IACA/B,OAAAiE,QAAApE,QAAA,SAAAmE,EAAAE,QACAC,OAAAC,EAAA,EAAAD,GACAA,OAAAC,EAAA,EAAAD,IAEApC,KAEAsC,QA5BA,WA6BA7E,KAAA2B,SAAA,EACA3B,KAAA4B,SAAA,EACA5B,KAAA6B,iBAAA,WACA7B,KAAA8E,UAAA,EACA9E,KAAA+E,YAAA,EACA/E,KAAAgF,iBAAA,EACAhF,KAAAiF,iBAAA,EACAjF,KAAAkF,aACAlF,KAAAmF,eAEArF,QAvCA,WAwCA6E,OAAAS,EAAA,EAAAT,CAAA3E,KAAAiE,WAEAnD,SACAuE,UADA,WAEArF,KAAAsF,cACAtF,KAAAgB,MAAAuE,YAAA7E,UACAV,KAAAwF,eACAxF,KAAAsF,aAAA,IAGAJ,WARA,WAQA,IAAAnF,EAAAC,KACA2E,OAAAc,EAAA,EAAAd,CAAA,UAAAe,KAAA,SAAAC,GApDA,IAqDAA,EAAAxG,KAAAyG,UACA7F,EAAAwD,MAAAoC,EAAAxG,UAEAY,EAAAwD,YAIA4B,YAjBA,WAiBA,IAAA3D,EAAAxB,KACA2E,OAAAc,EAAA,EAAAd,CAAA,eAAAe,KAAA,SAAAC,GA7DA,IA8DAA,EAAAxG,KAAAyG,YACApE,EAAAkC,QAAAiC,EAAAxG,UACAqC,EAAAqE,UAAA,WAEA,IADA,IAAA3E,EAAA,EACAG,EAAA,EAAAA,EAAAG,EAAAkC,QAAArD,OAAAgB,IACAH,GAAAM,EAAAR,MAAA8E,OAAAzE,GAAA0E,wBAAA7E,MAEAM,EAAAR,MAAAgF,WAAAzE,MAAAL,QAAA,WAKA+E,SA/BA,WA+BA,IAAA3D,EAAAtC,KACA2E,OAAAc,EAAA,EAAAd,CAAA,qBAAA3E,KAAAR,MAAAkG,KAAA,SAAAC,GA3EA,IA4EAA,EAAAxG,KAAAyG,WACAtD,EAAAmB,KAAAkC,EAAAxG,UACAmD,EAAAuD,UAAA,WACAvD,EAAA4D,UAAA5D,EAAAtB,MAAAmF,WAAAJ,wBAAAK,QAAA9D,EAAAtB,MAAAmF,WAAAE,aACA/D,EAAAgE,UAAAhE,EAAAtB,MAAAuF,SAAAR,wBAAAS,IACAlE,EAAAmE,cAAAnE,EAAA4D,UAAA5D,EAAAgE,UACAhE,EAAAtB,MAAAuE,YAAAmB,IAAAnF,MAAAiF,IAAAlE,EAAAgE,UAAA,KACAhE,EAAAtB,MAAAuE,YAAAoB,SAAA,EAAAhC,OAAAC,EAAA,EAAAD,GAAA,QAGArC,EAAAmB,QACAnB,EAAAsB,KAAA,UAEAgD,MAAA,SAAAC,GACAA,EAAAlB,MACArD,EAAAmB,QACAnB,EAAAsB,KAAA,kBAIA4B,aArDA,WAqDA,IAAAsB,EAAA9G,KACAA,KAAAyD,KAAAkB,OAAAC,EAAA,EAAAD,GACA,IAAAA,OAAAC,EAAA,EAAAD,GAAAtE,SACAL,KAAAR,KAAAmF,OAAAC,EAAA,EAAAD,IAEA,IAAA3E,KAAAyD,KAAApD,OACAL,KAAAiG,WAEAjG,KAAA6F,UAAA,WACAiB,EAAAZ,UAAAY,EAAA9F,MAAAmF,WAAAE,aACAS,EAAAR,UAAAQ,EAAA9F,MAAAuF,SAAAR,wBAAAS,IACAM,EAAAL,cAAAK,EAAAZ,UAAAY,EAAAR,UACAQ,EAAA9F,MAAAuE,YAAAmB,IAAAnF,MAAAiF,IAAAM,EAAAR,UAAA,KACAQ,EAAA9F,MAAAuE,YAAAoB,SAAA,EAAAhC,OAAAC,EAAA,EAAAD,GAAA,OAIAoC,SAtEA,WAsEA,IAAAC,EAAAhH,KACAA,KAAA4D,KAAA,SACA5D,KAAA+D,QAAA,EACA/D,KAAA2D,OACAgB,OAAAc,EAAA,EAAAd,CAAA,cAAA3E,KAAA2D,KAAA,SAAA3D,KAAAR,MAAAkG,KAAA,SAAAC,GACAqB,EAAAjD,QAAA,EAtHA,IAuHA4B,EAAAxG,KAAAyG,WACAoB,EAAAvD,KAAAuD,EAAAvD,KAAAwD,OAAAtB,EAAAxG,WACAwF,OAAAC,EAAA,EAAAD,CAAAqC,EAAAvD,MACAuD,EAAApD,KAAA,UAEAoD,EAAApD,KAAA,aAEAgD,MAAA,SAAAC,GACAA,EAAAlB,MACAqB,EAAAjD,QAAA,EACAiD,EAAApD,KAAA,kBAIAsD,OA1FA,SA0FA7F,GACArB,KAAAR,KAAA6B,EACAsD,OAAAC,EAAA,EAAAD,CAAAtD,GACArB,KAAA2D,KAAA,EACA3D,KAAAgE,WAAA,EACAhE,KAAAmH,aAAA9F,GACAsD,OAAAC,EAAA,EAAAD,GACA3E,KAAAiG,WACAjG,KAAAoH,aAEAC,OApGA,SAoGAC,GACAtH,KAAAwD,QAAA8D,EAAAC,GAEAC,UAvGA,SAuGAF,GACA3C,OAAAC,EAAA,EAAAD,CAAA2C,EAAAC,IAEAJ,aA1GA,SA0GAM,GACAzH,KAAAgB,MAAA0G,UAAAC,gBAAA3H,KAAAgB,MAAA8E,OAAA2B,GAAA,WACAzH,KAAAgB,MAAA0G,UAAAhH,WAEA0G,UA9GA,WA+GApH,KAAAgB,MAAAuE,YAAAoB,SAAA,EAAA3G,KAAAyG,cAAA,KAEAmB,WAjHA,WAkHA5H,KAAA+G,YAEAc,YApHA,WAqHA7H,KAAA6D,SAAA,QAEAiE,YAvHA,WAuHA,IAAAC,EAAA/H,KACAA,KAAAyD,QACAzD,KAAA6D,SAAA,OACA5D,WAAA,WACA8H,EAAA9B,WACA8B,EAAAlE,SAAA,QACA,MAEAmE,YA/HA,WAgIAhI,KAAAgE,WAAA,GAEAiE,YAlIA,WAmIAjI,KAAAgE,WAAA,IAGAkE,OACA1I,KADA,SACA6B,KAGAmC,QAJA,SAIA2E,GACA,GAAAA,GAAA,GACA,IAAAC,EAAAC,KAAAC,IAAAtI,KAAAyG,cAAA0B,GACAnI,KAAAgB,MAAAmF,WAAA5E,MAAA,4BAAA6G,EAAA,YAIAG,YACAC,cAAAC,EAAA,EACAC,YAAAC,EAAA,EACAC,UAAA,EACA1J,OAAAgE,EACAmE,OAAAwB,EAAA,ICvPAC,GADiBrG,OAFjB,WAA0B,IAAAsG,EAAA/I,KAAa0C,EAAAqG,EAAApG,eAA0BC,EAAAmG,EAAAlG,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBoG,OAAOC,GAAA,WAAcF,EAAAxF,MAAA,OAAAX,EAAA,OAA+BE,IAAA,gBAAAC,YAAA,mBAAiDH,EAAA,SAAAmG,EAAAG,GAAAH,EAAA,eAAAI,EAAA7F,GAAsD,OAAAV,EAAA,OAAiBwG,IAAA9F,EAAAP,YAAA,gBAAoCH,EAAA,KAAUG,YAAA,aAAAiG,OAAgCK,KAAAF,EAAAG,OAAiB1G,EAAA,OAAYoG,OAAOO,IAAAJ,EAAA9E,OAAiBnC,IAAKsH,KAAAT,EAAA1D,eAAsB0D,EAAAU,GAAA,KAAA7G,EAAA,KAAwBG,YAAA,gBAA0BgG,EAAAU,GAAAV,EAAAW,GAAAP,EAAAjF,gBAAiC,GAAA6E,EAAAY,KAAAZ,EAAAU,GAAA,KAAAV,EAAArF,QAAA,OAAAd,EAAA,OAA2DE,IAAA,aAAAC,YAAA,aAAwCH,EAAA,UAAeE,IAAA,YAAAkG,OAAuB7J,KAAA4J,EAAArF,QAAA/B,QAAAoH,EAAApH,QAAAC,QAAAmH,EAAAnH,QAAAC,iBAAAkH,EAAAlH,oBAAwGe,EAAA,OAAYE,IAAA,aAAAC,YAAA,eAA2CgG,EAAAG,GAAAH,EAAA,iBAAAI,EAAA7F,GAA2C,OAAAV,EAAA,OAAiBwG,IAAA9F,EAAAR,IAAA,SAAA8G,UAAA,EAAA7G,YAAA,UAAAb,IAA+DR,MAAA,SAAAmI,GAAyBd,EAAA7B,OAAA5D,OAAoBV,EAAA,QAAakH,OAAOC,QAAAhB,EAAAvJ,OAAA8D,KAA0ByF,EAAAU,GAAAV,EAAAW,GAAAP,EAAAa,cAAgCjB,EAAAU,GAAA,KAAA7G,EAAA,OAAyBG,YAAA,eAAAb,IAA+BR,MAAAqH,EAAAf,eAAyBpF,EAAA,KAAUG,YAAA,mBAAwB,GAAAgG,EAAAY,KAAAZ,EAAAU,GAAA,KAAA7G,EAAA,OAAyCE,IAAA,WAAAmH,aAA4BC,YAAA,IAAAC,cAAA,OAAmCpB,EAAAU,GAAA,KAAA7G,EAAA,UAA2BE,IAAA,cAAAC,YAAA,eAAAiG,OAAoD7J,KAAA4J,EAAAtF,KAAAqB,UAAAiE,EAAAjE,UAAAG,gBAAA8D,EAAA9D,gBAAAF,WAAAgE,EAAAhE,WAAAC,gBAAA+D,EAAA/D,iBAAkJ9C,IAAKmF,OAAA0B,EAAA1B,OAAA+C,aAAArB,EAAAvB,UAAAI,WAAAmB,EAAAnB,WAAAC,YAAAkB,EAAAlB,eAA0GjF,EAAA,OAAYG,YAAA,iBAA2BH,EAAA,eAAoBoG,OAAOvF,KAAAsF,EAAAtF,QAAiBsF,EAAAU,GAAA,KAAAV,EAAAtF,KAAA,OAAAb,EAAA,aAAgDoG,OAAOpF,KAAAmF,EAAAnF,KAAAG,OAAAgF,EAAAhF,UAAqCgF,EAAAY,KAAAZ,EAAAU,GAAA,KAAA7G,EAAA,aAAuCG,YAAA,gBAAAiG,OAAmCpF,KAAAmF,EAAAlF,aAAqB,KAAAkF,EAAAU,GAAA,KAAA7G,EAAA,WAAkCyH,aAAaL,KAAA,OAAAM,QAAA,SAAAC,OAAAxB,EAAAtF,KAAApD,OAAAmK,WAAA,iBAAgFzH,YAAA,oBAAAiG,OAAyC9E,MAAA,MAAY6E,EAAAU,GAAA,KAAA7G,EAAA,cAA+BoG,OAAOgB,KAAA,UAAepH,EAAA,OAAYyH,aAAaL,KAAA,OAAAM,QAAA,SAAAC,MAAAxB,EAAA,UAAAyB,WAAA,cAA0EzH,YAAA,qBAAiCH,EAAA,OAAAA,EAAA,MAAqBG,YAAA,UAAoBgG,EAAAU,GAAA,UAAAV,EAAAU,GAAA,KAAA7G,EAAA,OAAyCG,YAAA,WAAsBgG,EAAAG,GAAAH,EAAA,iBAAAI,EAAA7F,GAA2C,OAAAV,EAAA,QAAkBwG,IAAA9F,EAAAP,YAAA,OAAAb,IAAiCR,MAAA,SAAAmI,GAAyBd,EAAA7B,OAAA5D,OAAoByF,EAAAU,GAAAV,EAAAW,GAAAP,EAAAa,cAA8BjB,EAAAU,GAAA,KAAA7G,EAAA,OAA2BG,YAAA,QAAAb,IAAwBR,MAAAqH,EAAAd,eAAyBrF,EAAA,KAAUG,YAAA,uBAA0B,IAE3jFE,oBCCjB,IAcAwH,EAdAtH,EAAA,OAcAuH,CACApH,EACAwF,GATA,EAVA,SAAAzF,GACAF,EAAA,SAaA,KAEA,MAUAwH,EAAA,QAAAF,EAAA","file":"js/3.335913ce3f19883fbab7.js","sourcesContent":["export function hasClass (el, className) {\n  let reg = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)')\n  return reg.test(el.className)\n}\n\nexport function addClass (el, className) {\n  if (hasClass(el, className)) {\n    return\n  }\n\n  let newClass = el.className.split(' ')\n  newClass.push(className)\n  el.className = newClass.join(' ')\n}\n\nexport function removeClass (el, className) {\n  if (!hasClass(el, className)) {\n    return\n  }\n\n  let reg = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)', 'g')\n  el.className = el.className.replace(reg, ' ')\n}\n\nexport function getData (el, name, val) {\n  let prefix = 'data-'\n  if (val) {\n    return el.setAttribute(prefix + name, val)\n  }\n  return el.getAttribute(prefix + name)\n}\n\nexport function getRect (el) {\n  if (el instanceof window.SVGElement) {\n    let rect = el.getBoundingClientRect()\n    return {\n      top: rect.top,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    }\n  } else {\n    return {\n      top: el.offsetTop,\n      left: el.offsetLeft,\n      width: el.offsetWidth,\n      height: el.offsetHeight\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/dom.js","<template>\n  <div class=\"slider\" ref=\"slider\">\n    <div class=\"slider-group\" ref=\"sliderGroup\">\n      <slot>\n      </slot>\n    </div>\n  </div>\n</template>\n<script>\nimport BScroll from 'better-scroll'\nimport {addClass} from '../../common/js/dom.js'\n\nexport default {\n  data () {\n    return {\n      dots: [],\n      currentPageIndex: 0\n    }\n  },\n  props: {\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    autoPlay: {\n      type: Boolean,\n      default: true\n    },\n    interval: {\n      type: Number,\n      default: 4000\n    }\n  },\n  mounted () {\n    setTimeout(() => {\n      this._setSliderWidth()\n      this.dots = new Array(this.children.length)\n      this._initSlider()\n\n      if (this.autoPlay) {\n        this._play()\n      }\n    }, 20)\n\n    window.addEventListener('resize', () => {\n      if (!this.slider) {\n        return\n      }\n      this._setSliderWidth(true)\n      this.slider.refresh()\n    })\n  },\n  destroyed () {\n    clearTimeout(this.timer)\n  },\n  methods: {\n    _setSliderWidth (isResize) {\n      this.children = this.$refs.sliderGroup.children\n      let width = 0\n      let sliderWidth = this.$refs.slider.clientWidth\n      for (let i = 0; i < this.children.length; i++) {\n        let child = this.children[i]\n        addClass(child, 'slider-item')\n\n        child.style.width = sliderWidth + 'px'\n        width += sliderWidth\n      }\n      if (this.loop && !isResize) {\n        width += 2 * sliderWidth\n      }\n      this.$refs.sliderGroup.style.width = width + 'px'\n    },\n    _initSlider () {\n      this.slider = new BScroll(this.$refs.slider, {\n        click: true,\n        scrollX: true,\n        scrollY: false,\n        eventPassthrough: 'vertical',\n        momentum: false,\n        snap: {\n          loop: true,\n          threshold: 0.3,\n          speed: 500\n        }\n      })\n\n      this.slider.on('scrollEnd', () => {\n        let pageIndex = this.slider.getCurrentPage().pageX\n        this.currentPageIndex = pageIndex\n        if (this.autoPlay) {\n          clearTimeout(this.timer)\n          this._play()\n        }\n      })\n\n      this.slider.on('scrollStart', () => {\n        clearTimeout(this.timer)\n      })\n    },\n    _play () {\n      let pageIndex = this.currentPageIndex\n      if (this.loop) {\n        pageIndex += 1\n      }\n      this.timer = setTimeout(() => {\n        this.slider.next(500)\n      }, this.interval)\n      return pageIndex\n    }\n  }\n}\n</script>\n<style lang=\"stylus\">\n.slider\n    min-height: 1px\n    overflow: hidden\n    .slider-group\n      overflow: hidden\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/slider/slider.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"slider\",staticClass:\"slider\"},[_c('div',{ref:\"sliderGroup\",staticClass:\"slider-group\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-15e9b134\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/slider/slider.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-15e9b134\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./slider.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./slider.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./slider.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-15e9b134\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./slider.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/slider/slider.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"index\">\n    <div v-if=\"slide.length\" class=\"slider-wrapper\" ref=\"sliderWrapper\">\n      <slider>\n        <div class=\"slider-item\" v-for=\"(item, index) in slide\" :key=\"index\">\n          <a :href=\"item.url\" class=\"slider-pic\">\n            <img :src=\"item.thumb\" @load=\"loadImage\">\n          </a>\n          <p class=\"slider-info\">{{item.title}}</p>\n        </div>\n      </slider>\n    </div>\n    <div class=\"news-nav\" v-if=\"newsNav.length\" ref=\"navWrapper\">\n      <scroll :data=\"newsNav\" :scrollX=\"scrollX\" :scrollY=\"scrollY\" :eventPassthrough=\"eventPassthrough\" ref=\"navScroll\">\n        <div class=\"nav-content\" ref=\"navContent\">\n          <div class=\"nav-btn\" v-for=\"(item, index) in newsNav\" :key=\"index\" @click=\"change(index)\" ref=\"navBtn\">\n            <span :class=\"{'nav-s':type===index}\">{{item.name}}</span>\n          </div>\n        </div>\n        <div class=\"nav-more-btn\" @click=\"showMoreTab\"><i class=\"icon-more\"></i></div>\n      </scroll>\n    </div>\n    <div style=\"font-size: 0; line-height: 0\" ref=\"newsMark\"></div>\n    <scroll @scroll=\"scroll\" @scroll-end=\"scrollEnd\" @touchToEnd=\"touchToEnd\" @scrollToTop=\"scrollToTop\" :data=\"news\" :probeType=\"probeType\" :listenScrollEnd=\"listenScrollEnd\" :pullUpLoad=\"pullUpLoad\" :pullDownRefresh=\"pullDownRefresh\" class=\"news-wrapper\" ref=\"newsWrapper\">\n      <div class=\"news-content\">\n        <news-column :news=\"news\"></news-column>\n        <load-tips :tips=\"tips\" :isLoad=\"isLoad\" v-if=\"news.length\"></load-tips>\n        <load-tips :tips=\"downTips\" class=\"pulldown-tips\"></load-tips>\n      </div>\n    </scroll>\n    <loading class=\"loading-container\" v-show=\"!news.length\" :title=\"''\"></loading>\n    <transition name=\"fade\">\n      <div class=\"nav-more-wrapper\" v-show=\"isMoreTab\">\n        <div>\n          <h1 class=\"title\">更多栏目</h1>\n          <div class=\"content\">\n            <span class=\"item\" v-for=\"(item, index) in newsNav\" :key=\"index\" @click=\"change(index)\">{{item.name}}</span>\n          </div>\n        </div>\n        <div class=\"close\" @click=\"hideMoreTab\">\n          <i class=\"icon-delete\"></i>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport Slider from '../../components/slider/slider.vue'\nimport Scroll from '../../components/scroll/scroll.vue'\nimport NewsColumn from '../../components/news-column/news-column.vue'\nimport LoadTips from '../../components/load-tips/load-tips.vue'\nimport Loading from '../../components/loading/loading.vue'\nimport {getApi} from '../../api/getApi.js'\nimport {share} from '../../common/js/share.js'\nimport {saveNewslist, loadNewslist, removeNewslist, saveType, loadType, saveScrollHeight, loadScrollHeight} from '../../common/js/cache'\n\nconst ERR_OK = 0\nexport default {\n  data () {\n    return {\n      slide: [],\n      scrollH: 0,\n      news: [],\n      newsNav: [],\n      type: 0,\n      page: 0,\n      tips: '上滑加载更多',\n      downTips: '下拉刷新',\n      isShow: true,\n      isLoad: null,\n      isMoreTab: null,\n      shareVal: {\n        title: document.title,\n        summary: '赛恩财经，提供全球股票、外汇、期货、债券、基金和数字货币等数十万种金融投资产品的实时行情和新闻资讯以及多种投资工具。',\n        thumb: 'https://cnibd.oss-cn-beijing.aliyuncs.com/resource/images/sharelogo.png'\n      }\n    }\n  },\n  beforeRouteEnter (to, from, next) {\n    if (window.history.length <= 1 || from.path !== '/') {\n      saveType()\n      saveScrollHeight()\n    }\n    next()\n  },\n  created () {\n    this.scrollX = true\n    this.scrollY = false\n    this.eventPassthrough = 'vertical'\n    this.probeType = 3\n    this.pullUpLoad = true\n    this.pullDownRefresh = true\n    this.listenScrollEnd = true\n    this._getSlider()\n    this._getNewsNav()\n  },\n  mounted () {\n    share(this.shareVal)\n  },\n  methods: {\n    loadImage () {\n      if (!this.checkLoaded) {\n        this.$refs.newsWrapper.refresh()\n        this.firstGetNews()\n        this.checkLoaded = true\n      }\n    },\n    _getSlider () {\n      getApi('/slide').then(res => {\n        if (res.data.errorCode === ERR_OK) {\n          this.slide = res.data.data\n        } else {\n          this.slide = []\n        }\n      })\n    },\n    _getNewsNav () {\n      getApi('/categories').then(res => {\n        if (res.data.errorCode === ERR_OK) {\n          this.newsNav = res.data.data\n          this.$nextTick(() => {\n            let width = 0\n            for (let i = 0; i < this.newsNav.length; i++) {\n              width += this.$refs.navBtn[i].getBoundingClientRect().width\n            }\n            this.$refs.navContent.style.width = width + 'px'\n          })\n        }\n      })\n    },\n    _getNews () {\n      getApi(`/list?page=0&type=${this.type}`).then(res => {\n        if (res.data.errorCode === ERR_OK) {\n          this.news = res.data.data\n          this.$nextTick(() => {\n            this.navHeight = this.$refs.navWrapper.getBoundingClientRect().height || this.$refs.navWrapper.clientHeight\n            this.topHeight = this.$refs.newsMark.getBoundingClientRect().top\n            this.minTranslateY = this.navHeight - this.topHeight\n            this.$refs.newsWrapper.$el.style.top = `${this.topHeight}px`\n            this.$refs.newsWrapper.scrollTo(0, loadScrollHeight(), 20)\n          })\n        } else {\n          this.news = []\n          this.tips = '暂无数据'\n        }\n      }).catch(error => {\n        if (!error.res) {\n          this.news = []\n          this.tips = '网络不给力，请稍后重试'\n        }\n      })\n    },\n    firstGetNews () {\n      this.news = loadNewslist()\n      if (loadType().length !== 0) {\n        this.type = loadType()\n      }\n      if (this.news.length === 0) {\n        this._getNews()\n      } else {\n        this.$nextTick(() => {\n          this.navHeight = this.$refs.navWrapper.clientHeight\n          this.topHeight = this.$refs.newsMark.getBoundingClientRect().top\n          this.minTranslateY = this.navHeight - this.topHeight\n          this.$refs.newsWrapper.$el.style.top = `${this.topHeight}px`\n          this.$refs.newsWrapper.scrollTo(0, loadScrollHeight(), 20)\n        })\n      }\n    },\n    loadMore () {\n      this.tips = '加载中...'\n      this.isLoad = true\n      this.page++\n      getApi(`/list?page=${this.page}&type=${this.type}`).then((res) => {\n        this.isLoad = false\n        if (res.data.errorCode === ERR_OK) {\n          this.news = this.news.concat(res.data.data)\n          saveNewslist(this.news)\n          this.tips = '上滑加载更多'\n        } else {\n          this.tips = '没有更多数据了~'\n        }\n      }).catch(error => {\n        if (!error.res) {\n          this.isLoad = false\n          this.tips = '网络不给力，请稍后重试'\n        }\n      })\n    },\n    change (i) {\n      this.type = i\n      saveType(i)\n      this.page = 0\n      this.isMoreTab = false\n      this.scrollCenter(i)\n      removeNewslist()\n      this._getNews()\n      this.scrollTop()\n    },\n    scroll (pos) {\n      this.scrollH = pos.y\n    },\n    scrollEnd (pos) {\n      saveScrollHeight(pos.y)\n    },\n    scrollCenter (val) {\n      this.$refs.navScroll.scrollToElement(this.$refs.navBtn[val], 300, true, true)\n      this.$refs.navScroll.refresh()\n    },\n    scrollTop () {\n      this.$refs.newsWrapper.scrollTo(0, this.minTranslateY, 20)\n    },\n    touchToEnd () {\n      this.loadMore()\n    },\n    scrollToTop () {\n      this.downTips = '松开刷新'\n    },\n    pullingDown () {\n      this.news = []\n      this.downTips = '正在刷新'\n      setTimeout(() => {\n        this._getNews()\n        this.downTips = '下拉刷新'\n      }, 400)\n    },\n    showMoreTab () {\n      this.isMoreTab = true\n    },\n    hideMoreTab () {\n      this.isMoreTab = false\n    }\n  },\n  watch: {\n    type (i) {\n\n    },\n    scrollH (newY) {\n      if (newY <= 0) {\n        let translateY = Math.max(this.minTranslateY, newY)\n        this.$refs.navWrapper.style['transform'] = `translate3d(0, ${translateY}px, 0)`\n      }\n    }\n  },\n  components: {\n    'news-column': NewsColumn,\n    'load-tips': LoadTips,\n    'loading': Loading,\n    'slider': Slider,\n    'scroll': Scroll\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n@import \"../../common/stylus/mixin.styl\"\n.slider-wrapper\n  height 18rem\n  margin-bottom 0.6rem\n  .slider\n    min-height: 1px\n    overflow: hidden\n    .slider-group\n      overflow: hidden\n      .slider-item\n        position relative\n        float: left\n        .slider-pic\n          display block\n          img\n            width 100%\n            height 18rem\n        .slider-info\n          overflow hidden\n          box-sizing border-box\n          position absolute\n          bottom 0\n          left 0\n          width 100%\n          padding 0 2rem\n          line-height 3rem\n          font-size 1.6rem\n          background-color rgba(0,0,0,0.5)\n          color #fff\n          text-align center\n          white-space nowrap\n          text-overflow ellipsis\n.news-nav\n  position relative\n  width 100%\n  height 4.4rem\n  overflow hidden\n  z-index 10\n  border-1px(rgba(7,17,27,0.1))\n  background-color #fff\n  .nav-content\n    overflow hidden\n    padding-right 4rem\n    .nav-btn\n      float left\n      display inline-block\n      span\n        display inline-block\n        line-height 1.6rem\n        font-size 1.6rem\n        padding 1.4rem 2rem 1.2rem\n        border-bottom 0.2rem solid #fff\n        &.nav-s\n          border-color #1f8bee\n          color #1f8bee\n  .nav-more-btn\n    position absolute\n    top 0\n    right 0\n    padding-right 0.5rem\n    width 4rem\n    height 4.4rem\n    line-height 0\n    text-align center\n    color #bfbfbf\n    box-shadow -0.1rem 0 1.5rem 0.5rem #fff\n    background-color #fff\n    .icon-more\n      line-height 4.4rem\n      font-size 1.5rem\n.news-wrapper\n  position fixed\n  top 0\n  left 0\n  right 0\n  bottom 0\n  .news-content\n    position relative\n    padding 0 2rem\n    background-color #fff\n    .pulldown-tips\n      position absolute\n      top -4rem\n      left 0\n.loading-container\n  margin-top 30%\n.nav-more-wrapper\n  display flex\n  flex-direction column\n  justify-content space-between\n  position fixed\n  top 0\n  left 0\n  width 100%\n  height 100vh\n  background-color rgba(7,17,27,0.9)\n  backdrop-filter: blur(10px)\n  z-index 200\n  &.fade-enter-active, &.fade-leave-active\n     transition all 0.5s ease\n  &.fade-enter, &.fade-leave-active\n    opacity 0\n  .title\n    height 4.92rem\n    line-height 4.92rem\n    font-size 1.6rem\n    border-1px(rgba(255,255,255,0.2))\n    text-align center\n    color #fff\n  .content\n    padding 0 1rem\n    box-sizing border-box\n    color #393a4c\n    .item\n      display inline-block\n      width 25.33%\n      height 2.8rem\n      line-height 2.8rem\n      vertical-align middle\n      margin 2.4rem 4% 0\n      border-radius 1.4rem\n      text-align center\n      background-color #f8f8f8\n  .close\n    width 4rem\n    height 4rem\n    margin 0 auto 7rem\n    text-align center\n    .icon-delete\n      line-height 4rem\n      font-size 3rem\n      color #fff\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/index/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"index\"}},[(_vm.slide.length)?_c('div',{ref:\"sliderWrapper\",staticClass:\"slider-wrapper\"},[_c('slider',_vm._l((_vm.slide),function(item,index){return _c('div',{key:index,staticClass:\"slider-item\"},[_c('a',{staticClass:\"slider-pic\",attrs:{\"href\":item.url}},[_c('img',{attrs:{\"src\":item.thumb},on:{\"load\":_vm.loadImage}})]),_vm._v(\" \"),_c('p',{staticClass:\"slider-info\"},[_vm._v(_vm._s(item.title))])])}))],1):_vm._e(),_vm._v(\" \"),(_vm.newsNav.length)?_c('div',{ref:\"navWrapper\",staticClass:\"news-nav\"},[_c('scroll',{ref:\"navScroll\",attrs:{\"data\":_vm.newsNav,\"scrollX\":_vm.scrollX,\"scrollY\":_vm.scrollY,\"eventPassthrough\":_vm.eventPassthrough}},[_c('div',{ref:\"navContent\",staticClass:\"nav-content\"},_vm._l((_vm.newsNav),function(item,index){return _c('div',{key:index,ref:\"navBtn\",refInFor:true,staticClass:\"nav-btn\",on:{\"click\":function($event){_vm.change(index)}}},[_c('span',{class:{'nav-s':_vm.type===index}},[_vm._v(_vm._s(item.name))])])})),_vm._v(\" \"),_c('div',{staticClass:\"nav-more-btn\",on:{\"click\":_vm.showMoreTab}},[_c('i',{staticClass:\"icon-more\"})])])],1):_vm._e(),_vm._v(\" \"),_c('div',{ref:\"newsMark\",staticStyle:{\"font-size\":\"0\",\"line-height\":\"0\"}}),_vm._v(\" \"),_c('scroll',{ref:\"newsWrapper\",staticClass:\"news-wrapper\",attrs:{\"data\":_vm.news,\"probeType\":_vm.probeType,\"listenScrollEnd\":_vm.listenScrollEnd,\"pullUpLoad\":_vm.pullUpLoad,\"pullDownRefresh\":_vm.pullDownRefresh},on:{\"scroll\":_vm.scroll,\"scroll-end\":_vm.scrollEnd,\"touchToEnd\":_vm.touchToEnd,\"scrollToTop\":_vm.scrollToTop}},[_c('div',{staticClass:\"news-content\"},[_c('news-column',{attrs:{\"news\":_vm.news}}),_vm._v(\" \"),(_vm.news.length)?_c('load-tips',{attrs:{\"tips\":_vm.tips,\"isLoad\":_vm.isLoad}}):_vm._e(),_vm._v(\" \"),_c('load-tips',{staticClass:\"pulldown-tips\",attrs:{\"tips\":_vm.downTips}})],1)]),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.news.length),expression:\"!news.length\"}],staticClass:\"loading-container\",attrs:{\"title\":''}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isMoreTab),expression:\"isMoreTab\"}],staticClass:\"nav-more-wrapper\"},[_c('div',[_c('h1',{staticClass:\"title\"},[_vm._v(\"更多栏目\")]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},_vm._l((_vm.newsNav),function(item,index){return _c('span',{key:index,staticClass:\"item\",on:{\"click\":function($event){_vm.change(index)}}},[_vm._v(_vm._s(item.name))])}))]),_vm._v(\" \"),_c('div',{staticClass:\"close\",on:{\"click\":_vm.hideMoreTab}},[_c('i',{staticClass:\"icon-delete\"})])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-22641266\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/pages/index/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22641266\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-22641266\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/index/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}