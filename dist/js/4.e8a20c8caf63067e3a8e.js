webpackJsonp([4],{LLWN:function(t,s){},QJr3:function(t,s){},UmzE:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("34v0"),n=i.n(e),a=i("bh5B"),r=i("h2NJ"),o={props:{switches:{},currentIndex:{type:Number,default:0}},methods:{switchItem:function(t){this.$emit("switch",t)}}},c={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"switches"},[i("div",{staticClass:"switch-content"},t._l(t.switches,function(s,e){return i("div",{key:e,staticClass:"switch-item",class:{active:t.currentIndex===e},on:{click:function(s){t.switchItem(e)}}},[i("span",[t._v(t._s(s.name))])])}))])},staticRenderFns:[]};var l=i("D8HT")(o,c,!1,function(t){i("QJr3")},null,null).exports,u=i("/gb8"),h=i("EcfS"),d=i("dyDs"),f={data:function(){return{favoriteList:[],favoriteColumnist:[],currentIndex:0,switches:[{name:"作者"},{name:"文章"}],currentNews:[],currentAuthor:[],confirmText:"",shareVal:{title:document.title,summary:"赛恩财经，提供全球股票、外汇、期货、债券、基金和数字货币等数十万种金融投资产品的实时行情和新闻资讯以及多种投资工具。",thumb:"https://cnibd.oss-cn-beijing.aliyuncs.com/resource/images/sharelogo.png"}}},mounted:function(){Object(d.a)(this.shareVal)},computed:n()({noResult:function(){return 1===this.currentIndex?!this.favoriteList.length:!this.favoriteColumnist.length},noResultDesc:function(){return 1===this.currentIndex?"暂无收藏文章":"暂无收藏作者"}},Object(h.c)(["loginState"])),created:function(){this.loginState&&"0"===this.loginState.errorCode?(this.getFavoriteArticle(),this.getFavoriteColumnist()):(this.$router.push("/login"),alert("请先登录"))},methods:{getFavoriteArticle:function(){var t=this;Object(u.b)("article.getKeepList",{session:this.loginState.data.data.session,page:0}).then(function(s){"0"===s.data.errorCode&&(console.log(s),t.favoriteList=s.data.data.publishArticles)})},getFavoriteColumnist:function(){var t=this;Object(u.b)("user.getFollowAuthorList",{session:this.loginState.data.data.session,page:0}).then(function(s){"0"===s.data.errorCode&&(console.log(s),t.favoriteColumnist=s.data.data)})},switchItem:function(t){this.currentIndex=t},showConfirm:function(t,s){this.$refs.confirm.show(),1===this.currentIndex&&(this.currentNews=t,this.confirmText="是否不再收藏此文章",this.articleId=t.id,this.n=s),0===this.currentIndex&&(this.currentAuthor=t,this.confirmText='是否不再收藏 "'+t.nickname+'"',this.followUserId=t.author_id,this.n=s)},deleteFavorite:function(){var t=this;1===this.currentIndex&&Object(u.b)("article.keep",{session:this.loginState.data.data.session,articleId:this.articleId}).then(function(s){t.favoriteList=t.favoriteList.slice(0,t.n).concat(t.favoriteList.slice(t.n+1))}),0===this.currentIndex&&Object(u.b)("user.follow",{session:this.loginState.data.data.session,followUserId:this.followUserId}).then(function(s){t.favoriteColumnist=t.favoriteColumnist.slice(0,t.n).concat(t.favoriteColumnist.slice(t.n+1))})}},components:{switches:l,confirm:r.a,scroll:a.a}},v={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"favor"},[i("div",{staticClass:"switches-wrapper"},[i("switches",{attrs:{switches:t.switches,currentIndex:t.currentIndex},on:{switch:t.switchItem}})],1),t._v(" "),1===t.currentIndex?i("scroll",{staticClass:"list-wrapper",attrs:{data:t.favoriteList}},[i("div",{staticClass:"news-list"},t._l(t.favoriteList,function(s,e){return i("div",{key:e,staticClass:"news-item"},[i("router-link",{staticClass:"item-text",attrs:{to:"/site/"+s.id,tag:"div"}},[i("h1",{staticClass:"title"},[t._v(t._s(s.title))]),t._v(" "),i("p",{staticClass:"author"},[t._v(t._s(s.author_name))])]),t._v(" "),i("div",{staticClass:"item-icon",on:{click:function(i){t.showConfirm(s,e)}}},[i("i",{staticClass:"icon-like"})])],1)}))]):t._e(),t._v(" "),0===t.currentIndex?i("scroll",{staticClass:"list-wrapper",attrs:{data:t.favoriteColumnist}},[i("div",{staticClass:"author-list"},t._l(t.favoriteColumnist,function(s,e){return i("div",{key:e,staticClass:"author-item"},[i("router-link",{staticClass:"item-avatar",class:{vip:1===s.is_certificate},attrs:{to:"/columnist/"+s.author_id,tag:"div"}},[i("img",{attrs:{src:s.avatar}})]),t._v(" "),i("router-link",{staticClass:"item-text",attrs:{to:"/columnist/"+s.author_id,tag:"div"}},[i("h1",{staticClass:"name"},[t._v(t._s(s.nickname))]),t._v(" "),i("p",{staticClass:"info"},[t._v(t._s(s.description))])]),t._v(" "),i("div",{staticClass:"item-icon",on:{click:function(i){t.showConfirm(s,e)}}},[i("i",{staticClass:"icon-like"})])],1)}))]):t._e(),t._v(" "),i("confirm",{ref:"confirm",attrs:{text:t.confirmText},on:{confirm:t.deleteFavorite}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.noResult,expression:"noResult"}],staticClass:"no-result-wrapper"},[i("i",{staticClass:"icon-no_result"}),t._v(" "),i("p",[t._v(t._s(t.noResultDesc))])])],1)},staticRenderFns:[]};var m=i("D8HT")(f,v,!1,function(t){i("LLWN")},null,null);s.default=m.exports}});
//# sourceMappingURL=4.e8a20c8caf63067e3a8e.js.map