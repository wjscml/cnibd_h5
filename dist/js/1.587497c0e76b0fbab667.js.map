{"version":3,"sources":["webpack:///src/components/search-box/search-box.vue","webpack:///./src/components/search-box/search-box.vue?67da","webpack:///./src/components/search-box/search-box.vue","webpack:///src/components/suggest/suggest.vue","webpack:///./src/components/suggest/suggest.vue?8773","webpack:///./src/components/suggest/suggest.vue","webpack:///src/pages/search/search.vue","webpack:///./src/pages/search/search.vue?5a9d","webpack:///./src/pages/search/search.vue"],"names":["search_box","props","placeholder","type","String","default","data","query","methods","clear","this","setQuery","keyupEnter","$emit","created","_this","$watch","newQuery","oldQuery","search_box_search_box","render","_vm","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","expression","attrs","domProps","on","keyup","$event","_k","keyCode","key","input","target","composing","click","staticRenderFns","components_search_box_search_box","__webpack_require__","normalizeComponent","ssrContext","suggest","news","pullUpLoad","tips","page","isLoad","title","hasGif","hasMore","ensure","Boolean","_getNews","Object","getApi","then","res","errorCode","catch","error","searchMore","_this2","concat","watch","components","scroll","scroll_scroll","news-column","news_column","load-tips","load_tips","loading","suggest_suggest","touchToEnd","length","components_suggest_suggest","suggest_normalizeComponent","search","hotKey","shareVal","summary","thumb","mounted","share","_getHotKey","computed","extends_default","shortcut","searchHistory","vuex_esm","addQuery","$refs","searchBox","onQueryChange","saveSearch","saveSearchHistory","deleteOne","item","deleteSearchHistory","showConfirm","confirm","show","setTimeout","refresh","search-box","confirm_confirm","search_search","ref","_s","_l","index","stopPropagation","select","text","clearSearchHistory","search_Component","search_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"js/1.587497c0e76b0fbab667.js","sourcesContent":["<template>\n  <div class=\"search-box\">\n    <i class=\"icon-search\"></i>\n    <input class=\"box\" @keyup.enter=\"keyupEnter\" v-model=\"query\" :placeholder=\"placeholder\">\n    <i @click=\"clear\" v-show=\"query\" class=\"icon-dismiss\"></i>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    placeholder: {\n      type: String,\n      default: '搜索文章关键字'\n    }\n  },\n  data () {\n    return {\n      query: ''\n    }\n  },\n  methods: {\n    clear () {\n      this.query = ''\n    },\n    setQuery (query) {\n      this.query = query\n    },\n    keyupEnter () {\n      this.$emit('keyupEnter')\n    }\n  },\n  created () {\n    this.$watch('query', (newQuery, oldQuery) => {\n      this.$emit('query', newQuery, oldQuery)\n    })\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.search-box\n  display flex\n  align-items center\n  box-sizing border-box\n  width 100%\n  padding 0 0.6rem\n  height 4rem\n  background-color #f0f0f0\n  border-radius 0.6rem\n  .icon-search\n    width 4rem\n    font-size 2.5rem\n    text-align center\n    color #393a4c\n  .box\n    flex 1\n    line-height 1.6rem\n    font-size 1.6rem\n    background-color #f0f0f0\n    color #1f8bee\n    outline none\n    border none\n  .icon-dismiss\n    width 4rem\n    font-size 1.8rem\n    text-align center\n    color #bfbfbf\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/search-box/search-box.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-box\"},[_c('i',{staticClass:\"icon-search\"}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],staticClass:\"box\",attrs:{\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.query)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.keyupEnter($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],staticClass:\"icon-dismiss\",on:{\"click\":_vm.clear}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-4e0b3164\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/search-box/search-box.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e0b3164\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./search-box.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./search-box.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./search-box.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e0b3164\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./search-box.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4e0b3164\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/search-box/search-box.vue\n// module id = null\n// module chunks = ","<template>\n  <scroll class=\"suggest\" @touchToEnd=\"searchMore\" :data=\"news\" :pullUpLoad=\"pullUpLoad\">\n    <div>\n      <news-column class=\"suggest-list\" :news=\"news\"></news-column>\n      <load-tips class=\"suggest-tips\" :tips=\"tips\" :isLoad=\"isLoad\" v-show=\"news.length > 5\"></load-tips>\n    </div>\n    <loading v-show=\"hasMore\" :title=\"title\" :hasGif=\"hasGif\"></loading>\n  </scroll>\n</template>\n\n<script>\nimport Scroll from '../scroll/scroll'\nimport NewsColumn from '../news-column/news-column'\nimport LoadTips from '../../components/load-tips/load-tips.vue'\nimport Loading from '../../components/loading/loading.vue'\nimport {getApi} from '../../api/getApi.js'\n\nconst ERR_OK = 0\nexport default {\n  data () {\n    return {\n      news: [],\n      pullUpLoad: true,\n      tips: '上滑加载更多',\n      page: 0,\n      isLoad: null,\n      title: '正在载入...',\n      hasGif: true,\n      hasMore: null\n    }\n  },\n  props: {\n    query: {\n      type: String,\n      default: ''\n    },\n    ensure: {\n      type: Boolean,\n      default: true\n    }\n  },\n  methods: {\n    _getNews () {\n      this.hasMore = true\n      this.title = '正在载入...'\n      this.hasGif = true\n      getApi(`/mobile-search?keywords=${this.query}&page=0`).then(res => {\n        if (res.data.errorCode === ERR_OK) {\n          this.hasMore = false\n          this.news = res.data.data\n        } else {\n          this.news = []\n          this.title = '抱歉，未找到相关内容'\n          this.hasGif = false\n        }\n      }).catch(error => {\n        if (!error.res) {\n          this.news = []\n          this.title = '网络不给力，请稍后重试'\n        }\n      })\n      this.$emit('select')\n    },\n    searchMore () {\n      this.tips = '正在加载...'\n      this.isLoad = true\n      this.page++\n      getApi(`/mobile-search?keywords=${this.query}&page=${this.page}`).then(res => {\n        this.isLoad = false\n        if (res.data.errorCode === ERR_OK) {\n          this.news = this.news.concat(res.data.data)\n          this.tips = '上滑加载更多'\n        } else {\n          this.tips = '没有更多数据了~'\n        }\n      }).catch(error => {\n        if (!error.res) {\n          this.tips = '网络不给力，请稍后重试'\n        }\n      })\n    }\n  },\n  watch: {\n    query (newQuery, oldQuery) {\n      if (oldQuery === '') {\n        this.news = []\n      }\n    },\n    ensure () {\n      if (this.ensure) {\n        this.news = []\n        this._getNews()\n      }\n    }\n  },\n  components: {\n    'scroll': Scroll,\n    'news-column': NewsColumn,\n    'load-tips': LoadTips,\n    'loading': Loading\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.suggest\n  height 100%\n  .suggest-list\n    padding 0 2rem\n    background-color #fff\n  .suggest-tips\n    background-color #fff\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/suggest/suggest.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('scroll',{staticClass:\"suggest\",attrs:{\"data\":_vm.news,\"pullUpLoad\":_vm.pullUpLoad},on:{\"touchToEnd\":_vm.searchMore}},[_c('div',[_c('news-column',{staticClass:\"suggest-list\",attrs:{\"news\":_vm.news}}),_vm._v(\" \"),_c('load-tips',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.news.length > 5),expression:\"news.length > 5\"}],staticClass:\"suggest-tips\",attrs:{\"tips\":_vm.tips,\"isLoad\":_vm.isLoad}})],1),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasMore),expression:\"hasMore\"}],attrs:{\"title\":_vm.title,\"hasGif\":_vm.hasGif}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-7b15cc4c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/suggest/suggest.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b15cc4c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./suggest.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./suggest.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./suggest.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b15cc4c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./suggest.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/suggest/suggest.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"search\">\n    <div class=\"search-box-wrapper\">\n      <search-box ref=\"searchBox\" @query=\"onQueryChange\" @keyupEnter=\"addQuery(query)\"></search-box>\n      <div class=\"smart-box\" v-show=\"query && !ensure\">\n        <div class=\"smart-box-wrapper\">\n          <p class=\"ensure-wrapper\" @click=\"addQuery(query)\">搜索“{{query}}”</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"shortcut-wrapper\" v-show=\"!query\">\n      <scroll :data=\"shortcut\" class=\"shortcut\" ref=\"shortcut\">\n        <div>\n          <div class=\"hot-key\">\n            <h1 class=\"title\">热门搜索</h1>\n            <ul>\n              <li @click=\"addQuery(item.name)\" class=\"item\" v-for=\"(item, index) in hotKey\" :key=\"index\">\n                <span>{{item.name}}</span>\n              </li>\n            </ul>\n          </div>\n          <div class=\"search-history\" v-show=\"searchHistory.length\">\n            <h1 class=\"title\">\n              <span class=\"text\">搜索历史</span>\n              <span class=\"clear\" @click=\"showConfirm\">\n                <i class=\"icon-delete_all\"></i>\n              </span>\n            </h1>\n            <div class=\"search-list\">\n              <ul>\n                <li @click=\"addQuery(item)\" class=\"search-item\" v-for=\"item in searchHistory\" :key=\"item\">\n                  <i class=\"icon-history\"></i>\n                  <span class=\"text\">{{item}}</span>\n                  <span class=\"icon\" @click.stop=\"deleteSearchHistory(item)\">\n                    <i class=\"icon-delete\"></i>\n                  </span>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </scroll>\n    </div>\n    <div class=\"search-result\">\n      <suggest @select=\"saveSearch\" :query=\"query\" :ensure=\"ensure\"></suggest>\n    </div>\n    <confirm @confirm=\"clearSearchHistory\" text=\"是否清空所有搜索历史\" ref=\"confirm\"></confirm>\n  </div>\n</template>\n\n<script>\nimport Scroll from '../../components/scroll/scroll'\nimport SearchBox from '../../components/search-box/search-box'\nimport Suggest from '../../components/suggest/suggest'\nimport Confirm from '../../components/confirm/confirm'\nimport {getApi} from '../../api/getApi.js'\nimport {mapActions, mapGetters} from 'vuex'\nimport {share} from '../../common/js/share.js'\n\nconst ERR_OK = 0\nexport default {\n  data () {\n    return {\n      hotKey: [],\n      query: '',\n      ensure: false,\n      shareVal: {\n        title: '赛恩财经:聚合财经新媒体',\n        summary: '赛恩财经，提供全球股票,外汇,期货,债券,基金和数字货币等数十万种金融投资产品的实时行情和新闻资讯,以及多种投资工具。',\n        thumb: 'https://cnibd.oss-cn-beijing.aliyuncs.com/resource/images/sharelogo.png'\n      }\n    }\n  },\n  mounted () {\n    share(this.shareVal)\n  },\n  created () {\n    this._getHotKey()\n  },\n  computed: {\n    shortcut () {\n      return this.hotKey.concat(this.searchHistory)\n    },\n    ...mapGetters([\n      'searchHistory'\n    ])\n  },\n  methods: {\n    addQuery (query) {\n      if (query !== '') {\n        this.ensure = true\n        this.$refs.searchBox.setQuery(query)\n      }\n    },\n    onQueryChange (newQuery, oldQuery) {\n      this.query = newQuery\n      if (oldQuery !== '') {\n        this.ensure = false\n      }\n    },\n    saveSearch () {\n      this.saveSearchHistory(this.query)\n    },\n    deleteOne (item) {\n      this.deleteSearchHistory(item)\n    },\n    showConfirm () {\n      this.$refs.confirm.show()\n    },\n    _getHotKey () {\n      getApi('/categories').then(res => {\n        if (res.data.errorCode === ERR_OK) {\n          this.hotKey = res.data.data\n        }\n      })\n    },\n    ...mapActions([\n      'saveSearchHistory',\n      'deleteSearchHistory',\n      'clearSearchHistory'\n    ])\n  },\n  watch: {\n    query (newQuery) {\n      if (!newQuery) {\n        this.ensure = false\n        setTimeout(() => {\n          this.$refs.shortcut.refresh()\n        }, 20)\n      }\n    }\n  },\n  components: {\n    'scroll': Scroll,\n    'search-box': SearchBox,\n    'suggest': Suggest,\n    'confirm': Confirm\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n@import \"../../common/stylus/mixin.styl\"\n.search\n  padding 2rem 0 3rem\n  background-color #fff\n  .search-box-wrapper\n    position relative\n    padding 0 2rem\n    .smart-box\n      position absolute\n      left 0\n      top 4.3rem\n      width 100%\n      z-index 20\n      background-color #fff\n      .smart-box-wrapper\n        margin 0 2rem\n        padding 0 1.6rem\n        border-radius 0.2rem\n        box-shadow 0px 1px 5px #999\n        background-color #fff\n        .ensure-wrapper\n          height 4rem\n          line-height 4rem\n          color #1f8bee\n          white-space: nowrap\n          overflow: hidden\n  .shortcut-wrapper\n    position fixed\n    top 13.9rem\n    bottom 0\n    width 100%\n    background-color #fff\n    z-index 10\n    .shortcut\n      height 100%\n      overflow hidden\n      .hot-key\n        margin 0 2rem 3rem\n        .title\n          margin-bottom 2rem\n          line-height 1.6rem\n          font-size 1.4rem\n          color #999\n        .item\n          display inline-block\n          padding 0 1.5rem\n          margin 0 1rem 1rem 0\n          height 3rem\n          line-height 3rem\n          font-size 1.5rem\n          border-radius 2rem\n          border 1px solid rgba(7,17,27,0.1)\n          color #393a4c\n      .search-history\n        margin-left 2rem\n        .title\n          display flex\n          align-items center\n          padding-right 2rem\n          margin-bottom 1rem\n          font-size 0\n          color #999\n          .text\n            flex 1\n            font-size 1.4rem\n          .clear\n            extend-click()\n            padding-right .17rem\n            .icon-delete_all\n              font-size 1.7rem\n              color #bfbfbf\n        .search-list\n          .search-item\n            position relative\n            display flex\n            align-items center\n            margin-left 2.5rem\n            padding-right 2rem\n            height 4.4rem\n            line-height 0\n            font-size 0\n            border-1px(rgba(7,17,27,0.1))\n            .icon-history\n              position absolute\n              left -2.5rem\n              top 0\n              height 4.4rem\n              line-height 4.4rem\n              font-size 1.5rem\n              color #bfbfbf\n            .text\n              flex 1\n              line-height 4.4rem\n              font-size 1.5rem\n              color #393a4c\n              display: -webkit-box\n              -webkit-line-clamp: 1\n              -webkit-box-orient: vertical\n              overflow: hidden\n            .icon\n              extend-click()\n              .icon-delete\n                font-size 2rem\n                color #bfbfbf\n  .search-result\n    position fixed\n    width 100%\n    top 13.9rem\n    bottom 0\n    overflow hidden\n    background-color #fff\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/search/search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search-box-wrapper\"},[_c('search-box',{ref:\"searchBox\",on:{\"query\":_vm.onQueryChange,\"keyupEnter\":function($event){_vm.addQuery(_vm.query)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query && !_vm.ensure),expression:\"query && !ensure\"}],staticClass:\"smart-box\"},[_c('div',{staticClass:\"smart-box-wrapper\"},[_c('p',{staticClass:\"ensure-wrapper\",on:{\"click\":function($event){_vm.addQuery(_vm.query)}}},[_vm._v(\"搜索“\"+_vm._s(_vm.query)+\"”\")])])])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query),expression:\"!query\"}],staticClass:\"shortcut-wrapper\"},[_c('scroll',{ref:\"shortcut\",staticClass:\"shortcut\",attrs:{\"data\":_vm.shortcut}},[_c('div',[_c('div',{staticClass:\"hot-key\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"热门搜索\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.hotKey),function(item,index){return _c('li',{key:index,staticClass:\"item\",on:{\"click\":function($event){_vm.addQuery(item.name)}}},[_c('span',[_vm._v(_vm._s(item.name))])])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchHistory.length),expression:\"searchHistory.length\"}],staticClass:\"search-history\"},[_c('h1',{staticClass:\"title\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"搜索历史\")]),_vm._v(\" \"),_c('span',{staticClass:\"clear\",on:{\"click\":_vm.showConfirm}},[_c('i',{staticClass:\"icon-delete_all\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"search-list\"},[_c('ul',_vm._l((_vm.searchHistory),function(item){return _c('li',{key:item,staticClass:\"search-item\",on:{\"click\":function($event){_vm.addQuery(item)}}},[_c('i',{staticClass:\"icon-history\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item))]),_vm._v(\" \"),_c('span',{staticClass:\"icon\",on:{\"click\":function($event){$event.stopPropagation();_vm.deleteSearchHistory(item)}}},[_c('i',{staticClass:\"icon-delete\"})])])}))])])])])],1),_vm._v(\" \"),_c('div',{staticClass:\"search-result\"},[_c('suggest',{attrs:{\"query\":_vm.query,\"ensure\":_vm.ensure},on:{\"select\":_vm.saveSearch}})],1),_vm._v(\" \"),_c('confirm',{ref:\"confirm\",attrs:{\"text\":\"是否清空所有搜索历史\"},on:{\"confirm\":_vm.clearSearchHistory}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-f7cdaed4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/pages/search/search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f7cdaed4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f7cdaed4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/search/search.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}