{"version":3,"sources":["webpack:///./src/common/js/htmlUtil.js","webpack:///src/pages/news-detail/news-detail.vue","webpack:///./src/pages/news-detail/news-detail.vue?3882","webpack:///./src/pages/news-detail/news-detail.vue"],"names":["text","temp","document","createElement","innerHTML","output","innerText","textContent","str","length","replace","data","newsDetails","newsContent","created","mounted","this","httpGet","methods","_this","url","encodeURIComponent","window","location","href","Object","getApi","$route","params","id","then","res","console","log","pathname","errorCode","htmlUtil","content","_1_3_3_weixin_js_sdk_default","a","config","debug","appId","signPackage","timestamp","nonceStr","signature","jsApiList","share","news_detail_news_detail","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","_v","_s","title","attrs","src","author_avatar","alt","author_name","publish_time","domProps","staticRenderFns","Component","__webpack_require__","normalizeComponent","news_detail","ssrContext","__webpack_exports__"],"mappings":"0DAAO,SAAqBA,GAC1B,IAAIC,EAAOC,SAASC,cAAc,OAClCF,EAAKG,UAAYJ,EACjB,IAAIK,EAASJ,EAAKK,WAAaL,EAAKM,YAEpC,OADAN,EAAO,KACAI,OAGF,SAAsBG,GAE3B,OAAmB,IAAfA,EAAIC,OAAqB,GACzBD,EAAIE,QAAQ,UAAW,uCACrBA,QAAQ,aAAc,4LCa9BC,KADA,WAEA,OACAC,eACAC,YAAA,KAGAC,QAPA,aASAC,QATA,WAUAC,KAAAC,WAEAC,SACAD,QADA,WACA,IAAAE,EAAAH,KACAI,EAAAC,mBAAA,GAAAC,OAAAC,SAAAC,MACAC,OAAAC,EAAA,EAAAD,CAAA,4BAAAT,KAAAW,OAAAC,OAAAC,GAAA,cAAAT,GAAAU,KAAA,SAAAC,GACAC,QAAAC,IAAAX,OAAAC,SAAAW,UAjBA,IAkBAH,EAAApB,KAAAwB,YACAhB,EAAAP,YAAAmB,EAAApB,UACAQ,EAAAN,YAAAY,OAAAW,EAAA,EAAAX,CAAAM,EAAApB,UAAA0B,SACAL,QAAAC,IAAAd,EAAAP,aACA0B,EAAAC,EAAAC,QACAC,OAAA,EACAC,MAAAvB,EAAAP,YAAA+B,YAAAD,MACAE,UAAAzB,EAAAP,YAAA+B,YAAAC,UACAC,SAAA1B,EAAAP,YAAA+B,YAAAE,SACAC,UAAA3B,EAAAP,YAAA+B,YAAAG,UACAC,WACA,uGAGAtB,OAAAuB,EAAA,EAAAvB,CAAAN,EAAAP,mBCpDAqC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAnC,KAAaoC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,aAAaC,KAAA,eAAAC,QAAA,iBAAAC,MAAAR,EAAAvC,YAAA,MAAAgD,WAAA,sBAA0GC,YAAA,YAAwBP,EAAA,OAAYO,YAAA,mBAA6BP,EAAA,MAAWO,YAAA,kBAA4BV,EAAAW,GAAAX,EAAAY,GAAAZ,EAAAvC,YAAAoD,UAAAb,EAAAW,GAAA,KAAAR,EAAA,OAAgEO,YAAA,iBAA2BP,EAAA,OAAYO,YAAA,WAAqBP,EAAA,QAAaO,YAAA,WAAqBP,EAAA,OAAYW,OAAOC,IAAAf,EAAAvC,YAAAuD,cAAAC,IAAA,cAAoDjB,EAAAW,GAAA,KAAAR,EAAA,QAA2BO,YAAA,SAAmBV,EAAAW,GAAAX,EAAAY,GAAAZ,EAAAvC,YAAAyD,kBAAAlB,EAAAW,GAAA,KAAAR,EAAA,OAAwEO,YAAA,SAAmBV,EAAAW,GAAAX,EAAAY,GAAAZ,EAAAvC,YAAA0D,qBAAAnB,EAAAW,GAAA,KAAAR,EAAA,OAA2EO,YAAA,kBAAAU,UAAwCnE,UAAA+C,EAAAY,GAAAZ,EAAAtC,mBAEzxB2D,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAC,EACA3B,GATA,EAVA,SAAA4B,GACAH,EAAA,SAaA,KAEA,MAUAI,EAAA,QAAAL,EAAA","file":"js/4.1ffdf716db5910b050e9.js","sourcesContent":["export function htmlDecode (text) {\n  var temp = document.createElement('div')\n  temp.innerHTML = text\n  var output = temp.innerText || temp.textContent\n  temp = null\n  return output\n}\n\nexport function addTableBox (str) {\n  var s = ''\n  if (str.length === 0) return ''\n  s = str.replace(/<table/g, '<div class=\"table-container\"><table')\n  s = s.replace(/<\\/table>/g, '</table></div>')\n  return s\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/htmlUtil.js","<template>\n  <div class=\"article\" v-wechat-title=\"newsDetails.title\">\n    <div class=\"article-header\">\n        <h1 class=\"article-title\">{{newsDetails.title}}</h1>\n        <div class=\"article-info\">\n            <div class=\"author\">\n                <span class=\"avatar\"><img :src=\"newsDetails.author_avatar\" alt=\"avatar\"></span>\n                <span class=\"name\">{{newsDetails.author_name}}</span>\n            </div>\n            <div class=\"time\">{{newsDetails.publish_time}}</div>\n        </div>\n    </div>\n    <div class=\"article-content\" v-html=\"newsContent\">\n    </div>\n  </div>\n</template>\n\n<script>\nimport wx from 'weixin-js-sdk'\nimport {wxInit} from '../../common/js/share.js'\nimport {getApi} from '../../api/getApi.js'\nimport {addTableBox} from '../../common/js/htmlUtil.js'\n\nconst ERR_OK = 0\nexport default {\n  data () {\n    return {\n      newsDetails: [],\n      newsContent: ''\n    }\n  },\n  created () {\n  },\n  mounted () {\n    this.httpGet()\n  },\n  methods: {\n    httpGet () {\n      let url = encodeURIComponent(`${window.location.href}`)\n      getApi(`/detail-share?article_id=${this.$route.params.id}&share_url=${url}`).then(res => {\n        console.log(window.location.pathname)\n        if (res.data.errorCode === ERR_OK) {\n          this.newsDetails = res.data.data\n          this.newsContent = addTableBox(res.data.data.content)\n          console.log(this.newsDetails)\n          wx.config({\n            debug: false,\n            appId: this.newsDetails.signPackage.appId,\n            timestamp: this.newsDetails.signPackage.timestamp,\n            nonceStr: this.newsDetails.signPackage.nonceStr,\n            signature: this.newsDetails.signPackage.signature,\n            jsApiList: [\n              'onMenuShareTimeline', 'onMenuShareAppMessage', 'onMenuShareQQ', 'onMenuShareWeibo', 'onMenuShareQZone'\n            ]\n          })\n          wxInit(this.newsDetails)\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.article\n  padding: 0 2rem\n  background-color #fff\n  .article-header\n    padding 3rem 0\n    .article-title\n      font-size: 2rem\n      line-height: 3.2rem\n      margin-bottom: 2.4rem\n      font-weight: bold\n      color: #333\n    .article-info\n      display: flex\n      justify-content: space-between\n      margin-bottom: 1.5rem\n      .author\n        font-size 0\n        .avatar\n          display: inline-block\n          vertical-align: top\n          line-height 2rem\n          img\n            width: 2rem\n            height: 2rem\n            border-radius: 50%\n        .name\n          display: inline-block\n          line-height 2rem\n          font-size:1.4rem\n          margin-left: 8px\n          color: #666\n      .time\n        display: inline-block\n        line-height 2rem\n        font-size: 1.4rem\n        color: #999\n  .article-content\n    font-size: 1.6rem\n    color: #333\n    p\n      margin-bottom: 2.4rem\n      word-wrap: break-word\n      img\n        max-width: 100%\n        margin: 0 auto\n        display: block\n    h1,h2\n      margin-bottom 2.4rem\n      font-size 1.6rem\n      color #1f8bee\n    .table-container\n      width: 100%\n      overflow-y: auto\n      _overflow: auto\n      margin: 0 0 1em\n      table\n        border:0\n        border-collapse:collapse\n        td,th\n          border:1px solid #999\n          padding:.5em 1em\n      // 添加IOS下滚动条\n      &::-webkit-scrollbar\n        -webkit-appearance: none\n        width: 14px\n        height: 14px\n      &::-webkit-scrollbar-thumb\n        border-radius: 8px\n        border: 3px solid #fff\n        background-color: rgba(0, 0, 0, .3)\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/news-detail/news-detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"wechat-title\",rawName:\"v-wechat-title\",value:(_vm.newsDetails.title),expression:\"newsDetails.title\"}],staticClass:\"article\"},[_c('div',{staticClass:\"article-header\"},[_c('h1',{staticClass:\"article-title\"},[_vm._v(_vm._s(_vm.newsDetails.title))]),_vm._v(\" \"),_c('div',{staticClass:\"article-info\"},[_c('div',{staticClass:\"author\"},[_c('span',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":_vm.newsDetails.author_avatar,\"alt\":\"avatar\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.newsDetails.author_name))])]),_vm._v(\" \"),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.newsDetails.publish_time))])])]),_vm._v(\" \"),_c('div',{staticClass:\"article-content\",domProps:{\"innerHTML\":_vm._s(_vm.newsContent)}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-4f342a84\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/pages/news-detail/news-detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4f342a84\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./news-detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./news-detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./news-detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4f342a84\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./news-detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/news-detail/news-detail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}