{"version":3,"sources":["webpack:///./src/common/js/htmlUtil.js","webpack:///src/components/floating-btn/floating-btn.vue","webpack:///./src/components/floating-btn/floating-btn.vue?7b52","webpack:///./src/components/floating-btn/floating-btn.vue","webpack:///src/pages/news-detail/news-detail.vue","webpack:///./src/pages/news-detail/news-detail.vue?2c74","webpack:///./src/pages/news-detail/news-detail.vue"],"names":["text","temp","document","createElement","innerHTML","output","innerText","textContent","str","length","replace","floating_btn","data","isClose","props","isShow","type","Boolean","default","getClass","String","created","methods","change","this","goTop","$emit","goHome","$router","push","path","goLast","goNext","toggle","watch","newVal","$refs","addBtn","style","floating_btn_floating_btn","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","on","click","_v","class","ref","staticRenderFns","scrollTimer","components_floating_btn_floating_btn","__webpack_require__","normalizeComponent","ssrContext","news_detail","article","newsDetails","newsContent","isLoading","httpGet","computed","extends_default","Object","vuex_esm","mounted","_this","setTimeout","window","addEventListener","handleScroll","_this2","clearTimeout","loginState","params","articleId","$route","id","getDetail","errorCode","session","_this3","getApi","then","res","htmlUtil","content","share","loadAvatar","gotop","scrollIntoView","gonext","article_after","alert","golast","article_before","toggleFavorite","_this4","action","isKeep","confirm","show","goLogin","to","from","destroyed","removeEventListener","components","loading","floating-btn","confirm_confirm","news_detail_news_detail","_s","title","tag","src","author_avatar","load","author_name","publish_time","domProps","confirmBtnText","news_detail_Component","news_detail_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"js/2.0604795faf1aa0211648.js","sourcesContent":["export function htmlDecode (text) {\n  var temp = document.createElement('div')\n  temp.innerHTML = text\n  var output = temp.innerText || temp.textContent\n  temp = null\n  return output\n}\n\nexport function addTableBox (str) {\n  var s = ''\n  if (str.length === 0) return ''\n  s = str.replace(/<table/g, '<div class=\"table-container\"><table')\n  s = s.replace(/<\\/table>/g, '</table></div>')\n  return s\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/htmlUtil.js","<template>\n  <div class=\"floating-wrapper\" v-show=\"isShow\">\n    <div class=\"floating-btn\">\n      <transition name=\"btn\">\n        <div class=\"bg-layer\" v-show=\"!isClose\">\n          <i class=\"item icon-nav-home\" @click=\"goHome\"></i>\n          <i class=\"item icon-backward\" @click=\"goLast\"></i>\n          <i class=\"item icon-forward\" @click=\"goNext\"></i>\n          <i class=\"item icon-top\" @click=\"goTop\"></i>\n          <i class=\"item\" :class=\"getClass\" @click=\"toggle\"></i>\n        </div>\n      </transition>\n      <div class=\"add-btn\" @click=\"change\" ref=\"addBtn\"><i class=\"icon-add\"></i></div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      isClose: true\n    }\n  },\n  props: {\n    isShow: {\n      type: Boolean,\n      default: true\n    },\n    getClass: {\n      type: String,\n      default: ''\n    }\n  },\n  created () {\n  },\n  methods: {\n    change () {\n      this.isClose = !this.isClose\n    },\n    goTop () {\n      this.$emit('gotop')\n      this.isClose = !this.isClose\n    },\n    goHome () {\n      this.$router.push({path: '/index'})\n      this.isClose = !this.isClose\n    },\n    goLast () {\n      this.$emit('golast')\n      this.isClose = !this.isClose\n    },\n    goNext () {\n      this.$emit('gonext')\n      this.isClose = !this.isClose\n    },\n    toggle () {\n      this.$emit('toggle')\n    }\n  },\n  watch: {\n    isClose (newVal) {\n      if (newVal === false) {\n        this.$refs.addBtn.style['transform'] = 'rotate(-45deg)'\n      }\n      if (newVal === true) {\n        this.$refs.addBtn.style['transform'] = 'rotate(0deg)'\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.floating-wrapper\n  position fixed\n  bottom 0\n  right 0\n  box-sizing border-box\n  padding 0 2rem 3rem\n  width 100%\n  .floating-btn\n    position relative\n    width 100%\n    height 4.2rem\n    border-radius 2.1rem\n    .bg-layer\n      position absolute\n      top 0\n      right 0\n      display flex\n      align-items center\n      width 100%\n      height 4.2rem\n      border-radius 2.1rem\n      background-color: rgba(31, 139, 238, .7)\n      .item\n        margin-right 1rem\n        width 4.2rem\n        line-height 4.2rem\n        border-radius 50%\n        background-color: rgba(31, 139, 238, .7)\n        font-size 2.2rem\n        text-align center\n        color #fff\n        &:active\n          background-color #1f8bee\n      &.btn-enter, &.btn-leave-active\n        width 4.2rem\n        opacity 0\n      &.btn-enter-active, &.btn-leave-active\n        transition all 0.3s ease\n    .add-btn\n      float right\n      width 4.2rem\n      height 4.2rem\n      font-size 0\n      border-radius 50%\n      text-align center\n      background-color: rgba(31, 139, 238, .8)\n      transition all .2s\n      &:after\n        content ''\n        display inline-block\n        height 100%\n        vertical-align middle\n      .icon-add\n        display inline-block\n        vertical-align middle\n        font-size 2.4rem\n        color #fff\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/floating-btn/floating-btn.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"floating-wrapper\"},[_c('div',{staticClass:\"floating-btn\"},[_c('transition',{attrs:{\"name\":\"btn\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isClose),expression:\"!isClose\"}],staticClass:\"bg-layer\"},[_c('i',{staticClass:\"item icon-nav-home\",on:{\"click\":_vm.goHome}}),_vm._v(\" \"),_c('i',{staticClass:\"item icon-backward\",on:{\"click\":_vm.goLast}}),_vm._v(\" \"),_c('i',{staticClass:\"item icon-forward\",on:{\"click\":_vm.goNext}}),_vm._v(\" \"),_c('i',{staticClass:\"item icon-top\",on:{\"click\":_vm.goTop}}),_vm._v(\" \"),_c('i',{staticClass:\"item\",class:_vm.getClass,on:{\"click\":_vm.toggle}})])]),_vm._v(\" \"),_c('div',{ref:\"addBtn\",staticClass:\"add-btn\",on:{\"click\":_vm.change}},[_c('i',{staticClass:\"icon-add\"})])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-c1dd8750\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/floating-btn/floating-btn.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c1dd8750\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./floating-btn.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./floating-btn.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./floating-btn.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c1dd8750\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./floating-btn.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/floating-btn/floating-btn.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"article\" v-wechat-title=\"newsDetails.title\" ref=\"article\">\n    <div class=\"article-header\">\n        <h1 class=\"article-title\">{{newsDetails.title}}</h1>\n        <div class=\"article-info\">\n            <router-link :to=\"`/columnist/${newsDetails.author_id}`\" tag=\"div\" class=\"author\">\n                <span class=\"avatar\"><img :src=\"newsDetails.author_avatar\" @load=\"loadAvatar\"></span>\n                <span class=\"name\">{{newsDetails.author_name}}</span>\n            </router-link>\n            <div class=\"time\">{{newsDetails.publish_time}}</div>\n        </div>\n    </div>\n    <div class=\"article-content\" v-html=\"newsContent\">\n    </div>\n    <div class=\"loading-container\" v-show=\"isLoading\">\n      <loading></loading>\n    </div>\n    <floating-btn :isShow=\"isShow\" :getClass=\"!newsDetails.isKeep ? 'icon-favor' : 'icon-favor_fill'\" @gotop=\"gotop\" @gonext=\"gonext\" @golast=\"golast\" @toggle=\"toggleFavorite\"></floating-btn>\n    <confirm @confirm=\"goLogin\" text=\"登录后方可收藏本文~\" confirmBtnText=\"去登录\" ref=\"confirm\"></confirm>\n  </div>\n</template>\n\n<script>\nimport {share} from '../../common/js/share.js'\nimport {postApi} from '../../api/getApi.js'\nimport {addTableBox} from '../../common/js/htmlUtil.js'\nimport Loading from '../../components/loading/loading.vue'\nimport FloatingBtn from '../../components/floating-btn/floating-btn.vue'\nimport Confirm from '../../components/confirm/confirm'\nimport {mapGetters} from 'vuex'\n\nconst ERR_OK = '0'\nvar scrollTimer\nexport default {\n  data () {\n    return {\n      article: [],\n      newsDetails: [],\n      newsContent: '',\n      isLoading: true,\n      isShow: true\n    }\n  },\n  created () {\n    this.httpGet()\n  },\n  computed: {\n    ...mapGetters([\n      'loginState'\n    ])\n  },\n  mounted () {\n    setTimeout(() => {\n      window.addEventListener('scroll', this.handleScroll)\n    }, 20)\n  },\n  methods: {\n    handleScroll () {\n      this.isShow = false\n      clearTimeout(scrollTimer)\n      scrollTimer = setTimeout(() => {\n        this.isShow = true\n      }, 200)\n    },\n    httpGet () {\n      if (this.loginState.length === 0) {\n        this.params = {\n          articleId: this.$route.params.id\n        }\n        this.getDetail()\n      }\n      if (this.loginState.errorCode === ERR_OK) {\n        this.params = {\n          articleId: this.$route.params.id,\n          session: this.loginState.data.data.session\n        }\n        this.getDetail()\n      }\n    },\n    getDetail () {\n      postApi('article.getDetail', this.params).then(res => {\n        // console.log(window.location.pathname)\n        if (res.data.errorCode === ERR_OK) {\n          this.newsDetails = res.data.data\n          this.article = res.data.data\n          this.newsContent = addTableBox(res.data.data.content)\n          share(this.newsDetails)\n        }\n      })\n    },\n    loadAvatar () {\n      this.isLoading = false\n    },\n    gotop () {\n      this.$refs.article.scrollIntoView()\n    },\n    gonext () {\n      if (this.newsDetails.article_after.length === 0) {\n        alert('已经是最后一篇文章啦~')\n      } else {\n        this.$router.push({path: `/site/${this.newsDetails.article_after.id}`})\n      }\n    },\n    golast () {\n      if (this.newsDetails.article_before.length === 0) {\n        alert('已经是第一篇文章啦~')\n      } else {\n        this.$router.push(`/site/${this.newsDetails.article_before.id}`)\n      }\n    },\n    toggleFavorite () {\n      if (this.loginState && this.loginState.errorCode === ERR_OK) {\n        postApi('article.keep', {\n          session: this.loginState.data.data.session,\n          articleId: this.$route.params.id\n        }).then(res => {\n          if (res.data.errorCode === ERR_OK) {\n            if (res.data.data.action === 1) {\n              this.newsDetails.isKeep = 1\n            }\n            if (res.data.data.action === 2) {\n              this.newsDetails.isKeep = 0\n            }\n          }\n        })\n      } else {\n        this.$refs.confirm.show()\n      }\n    },\n    goLogin () {\n      this.$router.push('/login')\n    }\n  },\n  watch: {\n    '$route' (to, from) {\n      this.httpGet()\n    }\n  },\n  destroyed () {\n    window.removeEventListener('scroll', this.handleScroll)\n  },\n  components: {\n    'loading': Loading,\n    'floating-btn': FloatingBtn,\n    'confirm': Confirm\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.article\n  padding: 0 2rem\n  min-height 100vh\n  background-color #fff\n  .article-header\n    padding 3rem 0\n    .article-title\n      font-size: 2rem\n      line-height: 3.2rem\n      margin-bottom: 2.4rem\n      font-weight: bold\n      color: #333\n    .article-info\n      display: flex\n      justify-content: space-between\n      margin-bottom: 1.5rem\n      .author\n        font-size 0\n        .avatar\n          display: inline-block\n          vertical-align: top\n          line-height 2rem\n          img\n            width: 2rem\n            height: 2rem\n            border-radius: 50%\n        .name\n          display: inline-block\n          line-height 2rem\n          font-size 1.4rem\n          margin-left: 8px\n          color: #666\n      .time\n        display: inline-block\n        line-height 2rem\n        font-size: 1.4rem\n        color: #999\n  .article-content\n    padding-bottom 2rem\n    font-size: 1.6rem\n    color: #333\n    p\n      margin-bottom: 2.4rem\n      word-wrap: break-word\n      img\n        max-width: 100%\n        margin: 0 auto\n        display: block\n    h1,h2\n      margin-bottom 2.4rem\n      font-size 1.6rem\n      color #1f8bee\n    .table-container\n      width: 100%\n      overflow-y: auto\n      _overflow: auto\n      margin: 0 0 1em\n      table\n        border:0\n        border-collapse:collapse\n        td,th\n          border:1px solid #999\n          padding:.5em 1em\n      // 添加IOS下滚动条\n      &::-webkit-scrollbar\n        -webkit-appearance: none\n        width: 14px\n        height: 14px\n      &::-webkit-scrollbar-thumb\n        border-radius: 8px\n        border: 3px solid #fff\n        background-color: rgba(0, 0, 0, .3)\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/news-detail/news-detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"wechat-title\",rawName:\"v-wechat-title\",value:(_vm.newsDetails.title),expression:\"newsDetails.title\"}],ref:\"article\",staticClass:\"article\"},[_c('div',{staticClass:\"article-header\"},[_c('h1',{staticClass:\"article-title\"},[_vm._v(_vm._s(_vm.newsDetails.title))]),_vm._v(\" \"),_c('div',{staticClass:\"article-info\"},[_c('router-link',{staticClass:\"author\",attrs:{\"to\":(\"/columnist/\" + (_vm.newsDetails.author_id)),\"tag\":\"div\"}},[_c('span',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":_vm.newsDetails.author_avatar},on:{\"load\":_vm.loadAvatar}})]),_vm._v(\" \"),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.newsDetails.author_name))])]),_vm._v(\" \"),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.newsDetails.publish_time))])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"article-content\",domProps:{\"innerHTML\":_vm._s(_vm.newsContent)}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"loading-container\"},[_c('loading')],1),_vm._v(\" \"),_c('floating-btn',{attrs:{\"isShow\":_vm.isShow,\"getClass\":!_vm.newsDetails.isKeep ? 'icon-favor' : 'icon-favor_fill'},on:{\"gotop\":_vm.gotop,\"gonext\":_vm.gonext,\"golast\":_vm.golast,\"toggle\":_vm.toggleFavorite}}),_vm._v(\" \"),_c('confirm',{ref:\"confirm\",attrs:{\"text\":\"登录后方可收藏本文~\",\"confirmBtnText\":\"去登录\"},on:{\"confirm\":_vm.goLogin}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-33f785dc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/pages/news-detail/news-detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-33f785dc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./news-detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./news-detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./news-detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-33f785dc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./news-detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/news-detail/news-detail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}